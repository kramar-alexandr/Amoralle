external inner procedure SetupColumWithKeypadWindow(var real,var real,var real,var real,var real,var real,var real);
external inner function Integer POSFontSize();
external inner function string 255 F_Label(string);
external inner procedure SplitButton(LongInt,LongInt,LongInt,LongInt,LongInt,string,string,string,string,LongInt);
external inner procedure POSKeyPad(LongInt,LongInt,LongInt,LongInt,LongInt,string,LongInt);
 external inner function string 255 GetChangePaswordLink();
remote inner function UUID GetServerUUIDRemote();
external inner function string 255 RemainingEinvoicesQuantity;
external inner function Boolean DisplayAdditionalFields();
remote inner function Integer MailAcceptanceStatus(LongInt);
external inner function Boolean IsMoveToCloud(record SetupStatusBlock);
external inner function Boolean IsMoveToCloudB();
external outer function Boolean IsCloudControllerClient();
external inner function string 255 GetCurrentStoreName();
external inner function Boolean CompaniesInClientMode();
external inner function Boolean ProductInDemoMode();
remote inner function string 255 GetCompanyShortCode(string);
external inner function Boolean AnyModuleAvailable();
external inner function Boolean AcceptanceStatusColumnTest(string);
external inner function Integer FlipCharCode(Integer,Integer);
external inner procedure RateField(real,real,real,string,integer,string,boolean,real,real,string,boolean);
external inner function boolean AddBicToMasterWindow(integer,var real,var real,real,real,real,real);
external inner function Boolean IsIntEnabActive(var string,var string,var Boolean,var string);
external inner function Boolean TouchScreenLookVertical();
external inner procedure SysEClass_Tool(Integer,var real,var real);
external inner procedure GTransEClass_Tool(Integer,var real,var real);
external inner procedure GTrans2EClass_Tool(Integer,var real,var real,var real);
external inner procedure GBaseEClass_Tool(Integer,var real,var real);
external inner procedure TransGenVClass_Tool(Integer,var real,var real);
external inner procedure GetCurUser(var record UserVc);
external inner function string 60 UserDefined(string,string);
external inner function string 60 RestPMCashModePayMode();
external outer function string 255 MasterBannerURL();
external inner procedure ItemStatusUserSettings(string,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean);
external inner function Boolean AllowedInCountry(integer);
external inner function Integer ResourceWindowResourceType();
external inner function Boolean ResPlan_Rental();
external inner function Boolean ResPlan_ProdOperations();
external inner function Boolean ReadPOSButtons(string,string,longint,var string,var string,var string,var record POSButtonsVc);
external inner function Boolean ReadNPTSWindowData(string,string,longint,string,string,Date,Time,var Boolean,var string,var string,var string,var record POSButtonsVc);
external inner function Boolean TouchScreenLook();
external inner procedure ExtractObj(string,var Integer,var string);
external inner function Boolean IsSessionOpen(string,string,Date,Time);
external inner procedure CntNPTSPaymentCurrencies(var Array string,var Array string,var Array Integer,var Array string,var Integer);
remote inner procedure CntPOSCurrencies(var Array string,var Array Boolean,var Integer);
external inner function Boolean CheckOffLineRecords(Boolean);
external inner function string 60 TileUserDefined(string,Integer,var Integer);
external inner function Boolean CUVATNrColumn;
external inner function Integer GetInternetEnablerCountry();
external inner function Integer CntVarietyCode(Integer,var Array string);
external inner function Integer VarietyMatMax(Integer);
external inner function Boolean UseTaxTemplatesforTaxCalc();
remote inner procedure TablesViewWClassDo(record LocalMachineBlock,string,Array string,Array string,Array string,Array string,Array Integer,var Integer,var LongInt);
external inner function string 20 GetMenuCode(string);
external inner procedure DrawModifierButtons(var Integer);
remote inner procedure ForkLiftQueueArray(string,string,var Array string,var Array string,var Array string,var Array string,var Array val,var Array Integer,var Array string,var Integer,Boolean,LongInt,LongInt,string);

external inner function Boolean DisplayLoginButtons();
external inner function Integer LoginShortcutsLines(Integer);
external inner function Integer LoginShortcutsPos(Real,Integer);

external inner procedure DefineTTRRowTypes(Integer);
external inner function real ItemButtons(string,Integer);
external inner procedure HWStoreWClassAddProducts(Integer);
external inner function Boolean HasYodlee();
external inner function Boolean HasAvalara();
external inner function Boolean HasCharts();
external inner function Boolean HasDetailedCharts();
external inner function Boolean HasNewRegistration();
external inner function Boolean ActivityIsForAcceptanceOrFYI(record ActVc,Boolean,Boolean);
// TravelLog
external inner function Integer LoginShortcuts();
external inner function Boolean TestConfigurationEnabler(string);
remote inner function Integer CustomerSalesPaymentTermType(string);
// POS Standalone
external inner function Boolean DefCustCodeSetup();

external inner function Boolean HasInAppsAvailable();
external inner function Integer CountCountries();

// Language functions LAT
external inner function Boolean DisplayLoginKeyPad_LAT();
external inner function string 255 VATZoneEditFieldLabel_LAT(Integer);
external inner function real VATZoneButtonsLabelsLAT(real,real,real,real);
external inner procedure LoginButtons2_LAT(Real,Real);
external inner procedure FORMDEF_LAT();
external inner function string 255 DemoMsgWClassTitle_LAT(Boolean,Boolean);
external inner procedure TBEClassDef_LAT();
external inner function string 255 VATZoneNameLAT();
external inner procedure TSERW_LAT();
external inner procedure TSERWNT_LAT();
external inner procedure TSERWTouch_LAT();
external inner procedure TSERWTEST_LAT();
external inner procedure INVFORM_LAT(Boolean);
external inner procedure DisplayRecordDetails_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external inner procedure DrawPOSInterface_LAT(string,string,record POSButtonsVc,string,Integer);
external inner procedure DisplayRecordDetailsCustDisplay_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external inner function string 255 ResDayWClassWindowTitle_LAT();
external inner function string 255 ResMonWClassWindowTitle_LAT();
external inner function string 255 RTMonWClassWindowTitle_LAT();
external inner procedure SetupNightAuditWindowControls_LAT(Boolean);
external inner procedure CURClassDefinitionLAT();
external inner function real DrawPaymentModesButtons_IV_LAT(real);
external inner function real FunctionButtons_LAT(string);
external inner procedure CreditCardWindowHeader_LAT(Boolean,Boolean,Real);
external inner procedure CreditCardWindowButtons_LAT(string,string,real);
external inner procedure CreditCardWindowInvoiceDetail_LAT(Real);
external inner procedure CreditCardWindowDeliveryDetail_LAT(Real);
external inner function real DrawPaymentModesButtons_LAT();
external inner procedure DrawBarMenuTiles_LAT(string);
external inner procedure DrawRestPMOtherPay_LAT();
external inner procedure DisplayRecordDetailsRA_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external inner procedure DrawModifierButtons2_LAT(var integer,var integer);
external inner procedure OKCancel_LAT();
external inner procedure DefineElearningURLCacheLClass_LAT();
external inner procedure DefineElearningURLCacheDClass_LAT();
external inner function real TravelLogDeductions_LAT(real,real);
external inner procedure LoginButtons_LAT(Real);
external inner procedure FORMDEF2_LAT();
external inner procedure FORMDEF3_LAT();
external inner procedure ARS2RClass_LAT();
external inner procedure ALLVATRClass_LAT();

external inner function Boolean IsStandardUnused();
external inner function Boolean IsEnterprise();
external inner function Boolean StandardHansa();
external inner function Boolean HasATOL();

external inner function Boolean HasAccPeriods();
external inner function Boolean HasAccessGroups();
external inner function Boolean HasAddFee();
external inner function Boolean HasApprovals();
external inner function Boolean HasCCPayments();
external inner function Boolean HasAdvancedAccounting();
external inner function Boolean HasAdvancedCRM();
external inner function Boolean HasAdvancedPricing();
external inner function Boolean HasAdvancedProduction();
external inner function Boolean HasAdvancedStock();
external inner function Boolean HasAged();
external inner function Boolean HasBar();
external inner function Boolean HasBase2();
external inner function Boolean HasBranch();
external inner function Boolean HasBuyBack();
external inner function Boolean HasCategories();
//external inner function Boolean HasConsigmentStock();
external inner function Boolean HasCommunicator();
external inner function Boolean HasConsignmentStock();
external inner function Boolean HasContactClassification();
external inner function Boolean HasContactRelations();
external inner function Boolean HasConsolidation();
external inner function Boolean HasCountryPerCustomer();
external inner function Boolean HasCreditLimit();
external inner function Boolean HasCustItem();
external inner function Boolean HasCustomerSearchKey();
external inner function Boolean HasCustomerStatusReport();
external inner function Boolean HasDownpayments();
external inner function Boolean HasDefineColumns();
external inner function Boolean HasDeliveryAddress();
external inner function Boolean HasDepartments();
external inner function Boolean HasETaxDocuments();
external inner function Boolean HasEInvoicing();
external inner function Boolean HasEndorsedChecks();
external inner function Boolean HasExtraNLComment();
external inner function Boolean HasExtTax();
external inner function Boolean HasFavouriteActTypes();
external inner function Boolean HasFiscalPrinter();
external inner function Boolean HasFormEditor();
external inner function Boolean HasFreightAdvanced();
external inner function Boolean HasHideCostPrice();
external inner function Boolean HasHotelInterface();
external inner function Boolean HasGuestUserDefined();
external inner function Boolean HasJewelleryInterface();
external inner function Boolean HasIncomeAndExpenseBook();
external inner function Boolean HasIOUChecks();
external inner function Boolean HasItemClassification();
external inner function Boolean HasItemGroups();
external inner function Boolean HasKPIs();
external inner function Boolean HasLanguages();
external inner function Boolean HasLimitedAccess();
external inner function Boolean HasLocalMachines();
external inner function Boolean HasLoyaltyCards();
external inner function Boolean HasMailTags();
external inner function Boolean HasMainPartner();
external inner function Boolean HasMultiCurrency();
external inner function Boolean HasMultiLocations();
external inner function Boolean HasNLBudget();
external inner function Boolean HasNLBudgetClass();
external inner function Boolean HasObjects();
external inner function Boolean HasInvoiceOfficialSerNr();
external inner function Boolean HasOfficialSerNr();
external inner function Boolean HasOrderClasses();
external inner function Boolean HasPreferedOfficialSerNr();
external inner function Boolean HasNumberSeries();
external inner function Boolean HasPersons();
external inner function Boolean HasPocketScreen();
external inner function Boolean HasPositions();
external inner function Boolean HasPrepayments();
external inner function Boolean HasProjects();
external inner function Boolean HasPriceLists();
external inner function Boolean HasQualityControl();
external inner function Boolean HasReconLevel2();
external inner function Boolean HasReminderLevel();
external inner function Boolean HasRemoteBackup();
external inner function Boolean HasResourceDisplayGroups();
external inner function Boolean HasRussianPrepayment();
external inner function Boolean HasRetGoodsToSupp();
external inner function Boolean HasReturnedGoods();
external inner function Boolean HasRoomPackages();
external inner function Boolean HasRoomTypes();
external inner function Boolean HasRoute();
external inner function Boolean HasSalesman();
external inner function Boolean HasSalesmanBonus();
external inner function Boolean HasSalesGroup();
external inner function Boolean HasSecondQuantity();
external inner function Boolean HasSerialNumbers();
external inner function Boolean HasServerInCloud();
external inner function Boolean HasSettlementDiscount();
external inner function Boolean HasSimulations();
external inner function Boolean hasSimAccruals();
external inner function Boolean HasSkypeConnection();
external inner function Boolean HasSIPServerConnection();
external inner function Boolean HasStrAsSignFType();
external inner function Boolean HasTouchScreenDevice();
external inner function Boolean HasTaxMatrix();
external inner function Boolean HasTestFeatures();
external inner function Boolean HasMetroTestFeatures();
external inner function Boolean HasWorkOrders();
external inner function Boolean HasThrouLocation();
external inner function Boolean HasTouchScreenLook();
external inner function Boolean HasTREO();
external inner function Boolean HasVarieties();
external inner function Boolean HasVATZone();
external inner function Boolean HasWithholdingTax();
external inner function Boolean HasWithholdingTaxAdvanced();
external inner function Boolean HasWorkOrders();
external inner function Boolean HasWorkflowOverview();

external inner function Boolean HasStandardCRM();
external inner function Boolean HasStandardOrganizer();
external inner function Boolean HasStandardCommunicator();

external inner function Boolean HasEMail();
external inner function Boolean HasExternalEMail();

external inner function Boolean HasModAT2();
external inner function Boolean HasModBA();
external inner function Boolean HasModCheck();
external inner function Boolean HasModCL();
external inner function Boolean HasModCO();
external inner function Boolean HasModCons();
external inner function Boolean HasModCourses();
external inner function Boolean HasModCredMan();
external inner function Boolean HasModCRM();
external inner function Boolean HasModEDI();
external inner function Boolean HasModExp();
external inner function Boolean HasModHotel();
external inner function Boolean HasModHRM();
external inner function Boolean HasModIN();
external inner function Boolean HasModIntStock();
external inner function Boolean HasModNL();
external inner function Boolean HasPaymentGateway();
external inner function Boolean HasModPO();
external inner function Boolean HasModPOS();
external inner function Boolean HasModPL();
external inner function Boolean HasModPOProg();
external inner function Boolean HasModPP();
external inner function Boolean HasModProd();
external inner function Boolean HasModQT();
external inner function Boolean HasModRent();
external inner function Boolean HasModRest();
external inner function Boolean HasModRsrt();
external inner function Boolean HasModSO();
external inner function Boolean HasModSL();
external inner function Boolean HasModSVO();
external inner function Boolean HasModTS();
external inner function Boolean HasModWHM();
external inner function Boolean HasModDI();
external inner function Boolean UsePostOKButton();
external inner function Boolean HasBankImport();
external inner function Boolean HasPLIntegratedWithNL();
external inner function Boolean HasSLIntegratedWithNL();
external inner function Boolean HasIntegratedNL();
external inner function Boolean HasConsStockMoveInvoices();

SetLangMode(LangLatvian,"LAT",0);

window StockMovDClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,f,flipnr;
  
  WindowBegin("Noliktavas kust´ba",StockMovDClass,CGview,-);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,850,400);
  end else begin
  SetWRect(20,80,700,400);
  end;
  Sizeable(-1,-1,0,0);
  UseView(StockMovVc);
  ActiveFieldOnNew("SentTransDate");      
  Tile(0,90,false,"",TransDate);
  v = 6; vs = 20; h = 110; h2 = 300; h3 = 500; h4 = 620;
  EditField(h,v,80, "Nr.",Normal,SerNr,false,TSerSClass);
  CheckBox(h2,v,0,"Rezerv•ts",Reserved);
  EditField(h3,v,80,"Iemesls",Normal,Reason,false,StandProblemsSClass);
  EditField(h,v+=vs,80,"Pas. datums",Normal,OrdTransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    if (IsEnterprise) then begin
  EditField(h2,v,80,"Nosðt´äanas dat.",Normal,SentTransDate,false,PasteCurDate);
    end;
  end;
  EditField(h3,v,80,"SaÀemäanas dat.",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
  EditField(h,v+=vs,80, "No noliktavas",Normal,FrLocation,false,LocationSClass);
    if (IsEnterprise) then begin
  EditField(h2,v,80,"Caur noliktavu",Normal,ThrouLocation,false,LocationSClass);
    end;
  EditField(h3,v,80,"Uz noliktavu",Normal,ToLocation,false,LocationSClass);
  end;
  if (HasConsStockMoveInvoices) then begin
    EditField(h,v+=vs,80, "R•úina Nr.",ViewOnly,InvoiceNr,false,0);
    EditField(h2,v,80,"R•úina datums",ViewOnly,InvDate,false,0);
    //payout-19; edz:
    //if (HasLocalization("PRT")) then begin 
    //EditField(h3,v,80,"R•úina ofici‚lais Nr.",ViewOnly,InvoiceOfficialSerNr,false,0);
    //end;   
    EditField(h3,v,80,"Valoda",Normal,LangCode,false,LangSClass);
    //:edz
  end;
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin  
    TileButton(tilenr,"Vietas"); tilenr = tilenr + 1;
  end;
  if (HasObjects) then begin
    TileButton(tilenr,"Objekti"); tilenr = tilenr + 1;
  end else begin
    TileButton(tilenr,"Koment‚rs"); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"Artikuli"); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,"Valðta"); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"Ilgums"); tilenr = tilenr + 1;
  TileButton(tilenr,"Nosðt."); tilenr = tilenr + 1;
  TileButton(tilenr,"Adrese"); tilenr = tilenr + 1;  
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin  
    Tile(tilenr,60,false,tilenr,FrPos); tilenr = tilenr + 1;
    v = 6;
    if (HasPositions) then begin
      EditField(h,v,80, "No poz´cijas",Normal,FrPos,false,UsedPosSClass);  
  EditField(h2,v,80,"Uz poz´ciju",Normal,ToPos,false,FreePosSClass);
    end;
    if (HasModProd) then begin
      EditField(h3,v,80,"Raìojumam",Normal,ProdSerNr,false,ProdSClass); v = v + vs;
      EditField(h3,v,150,"Maräruts",Normal,Sorting,false,DelRouteSClass); v = v + vs;  
    end;
    if ((HasLocalization("PRT") and HasModIN and HasMultiLocations) or IsStandardProduct==false) then begin   
      EditField(h3,v,150,"Tips",Normal,StockMovType,false,SetSClass); v = v + vs;  
    end;
    if (HasModWHM) then begin
      v = 6 + vs;
      CheckBox(h,v,0,"Manu‚la izdoäana",ManualPick);  
  CheckBox(h,v+=16,0,"Aizsðt´t uz pac•l‚ja rindu",ToForkLiftQue);
    end;
  end;
  Tile(tilenr,70,false,tilenr,Comment); tilenr = tilenr + 1;
  v = 6;
  if (HasObjects) then begin
    EditField(h,v,-20,"Objekti",Normal,Objects,false,ObjSClass);
    v = v + vs;
  end;
  EditField(h,v,-20,"Koment‚rs",Normal,Comment,false,0);
  EditField(h,v+=vs,135,"Pavadz. Nr.",Normal,OfficialSerNr,false,LegalInvNrSClass);
  EnterSkip(Math);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-50,-50,-,199);  
  Flip(0);
  flipnr = 1;
  if (HasJewelleryInterface) then begin
    MatCol(1,32,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"Artikuls",0,ArtCode,false,INSClass); 
    Flip(flipnr); flipnr = flipnr + 1;
    if (HasVarieties) then begin
    MatCol(1,200,"Piepras´ts",0,OrdQuant,true,MATVARINSClass); 
    end else begin
      if (HasThrouLocation) then begin
      MatCol(1,200,"Piepras´ts",0,OrdQuant,true,0);  
    end;
    end;
    if (HasThrouLocation) then begin
    MatCol(1,250,"Nosðt´ts",0,SentQuant,true,0); 
    end;
    MatCol(1,300,"SaÀemts",0,Quant,true,0); 
    MatCol(1,350,"Apraksts",0,Spec,false,0); 
  end else begin
    MatCol(1,32,"Artikuls",0,ArtCode,false,INSClass);
    Flip(flipnr);  flipnr = flipnr + 1;
    if (HasVarieties) then begin
  MatCol(1,86,"Piepras´ts",0,OrdQuant,true,MATVARINSClass);
    end else begin
      if (HasThrouLocation) then begin
      MatCol(1,86,"Piepras´ts",0,OrdQuant,true,0);  
    end;
    end;
    if (HasThrouLocation) then begin
  MatCol(1,148,"Nosðt´ts",0,SentQuant,true,0);
    end;
  MatCol(1,210,"SaÀemts",0,Quant,true,0);
  MatCol(1,272,"Nosaukums",0,Spec,false,0);
  end;
  MatCol(1,-260,"SaÀ. vec‚ art. cena",0,OldPrice,true,0);
  MatCol(1,-160,"SaÀ. papildizm.",0,ExtraSCost,true,0);
  MatCol(1,-80,"SaÀ. jaun‚ art. cena.",0,NewPrice,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasVarieties) then begin
  MatCol(1,86,"Piepras´ts",0,OrdQuant,true,MATVARINSClass);
  end else begin
    if (HasThrouLocation) then begin
    MatCol(1,86,"Piepras´ts",0,OrdQuant,true,0);  
  end;
  end;
  if (HasThrouLocation) then begin
  MatCol(1,148,"Nosðt´ts",0,SentQuant,true,0);
  end;
  MatCol(1,210,"SaÀemts",0,Quant,true,0);
  MatCol(1,272,"Nosaukums",0,Spec,false,0);
  MatCol(1,-260,"Nos. vec‚ art. cena",0,SentOldPrice,true,0);
  MatCol(1,-160,"Nos. papildizm.",0,SentExtraSCost,true,0);
  MatCol(1,-80,"Nos. jaun‚ art. cena",0,SentNewPrice,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,86,"Nosaukums",0,Spec,false,0);
  if (HasObjects) then begin
  MatCol(1,-380,"Objekti",0,Objects,false,ObjSClass);
  end;
  if (HasSerialNumbers) then begin
  MatCol(1,-280,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
  end;
  MatCol(1,-140,"Cena",0,BasePrice,true,0);
  MatCol(1,-40,"Koef.",0,Coefficient,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,86,"Nosaukums",0,Spec,false,0);
  if (HasSerialNumbers) then begin
  MatCol(1,-280,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
  end;
  MatCol(1,-180,"Platums",0,UnitXval,true,0);
  MatCol(1,-135,"Augst.",0,UnitYval,true,0);
  MatCol(1,-90,"Biezums",0,UnitZval,true,0);
  MatCol(1,-45,"K‚rt´bas rinda",0,OrderRowNr,false,0);
  if (HasPositions) then begin
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,86,"Nosaukums",0,Spec,false,0);
  MatCol(1,-180,"No poz´cijas",0,FrPosCode,false,UsedPosSClass);
  MatCol(1,-90,"Uz poz´ciju",0,ToPosCode,false,FreePosSClass);
  end;
  DeleteRowTest;
  RowMenuBegin(""); 
  RowMenuItem(0,"Artikula statuss",'I','I',0,"ItemStatusStockMovDsm"); 
  if (HasQualityControl) then begin
    RowMenuItem(0,"Kvalit‚tes kontrole",'u','u',0,"QualConFromStockMovDsm"); 
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
  v = 18; 
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (HasThrouLocation) then begin
  CheckBox(20,-52,0,"Apstiprin‚ts",OrdFlag);
  CheckBox(20,-36,0,"Nosðt´ts",SentOKFlag);
  end;
  CheckBox(20,-20,0,"SaÀemts",OKFlag);
  if (HasThrouLocation) then begin
  EditField(170,-20,62,"Nos. daudz.",Normal,TotSentQty,true,0);
  end;
  EditField(310,-20,62,"SaÀ. kop‚",Normal,TotQty,true,0);
  if (HasLocalization("HRV,PRT")) then begin  
    EditField(550,-40,150,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
//    SoftEditField(550,-40,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  EditField(550,-20,100,"Neuzkr‚t‚s papildizm.",Normal,OtherExtraCosts,false,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    h1 = 110; vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"Valðta",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,"B‚zes valðta 1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,"B‚zes valðta",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,"B‚zes valðta 2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"Kurss",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"B‚zes valðta 1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"B‚zes valðta 2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"B‚zes valðta",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,"B‚zes valðta 1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,"B‚zes valðta 2",Normal,BaseRate2,true,0);
    end;
  end;
  Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
  vs = 20; h1 = 130; h2 = 330; h3 = 560; 
  EditField(h,v=6,80,"Pl‚n. nos. dat.",Normal,PlanSendDate,false,PasteCurDate);
  EnterSkip(PlanSendTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin   
  EditField(h2,v,40,"Pl‚n. pieg. dienas",ViewOnly,PlanDurationDays,false,0);
  end;
  EditField(h,v+=vs,80,"Pl‚n. nos. laiks",Normal,PlanSendTime,false,PasteCurTime);
  EnterSkip(PlanArrDate);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin   
  EditField(h2,v,80,"Pl‚n. pieg. stundas",ViewOnly,PlanDurationTime,false,0);
  end;
  EditField(h3,v=6,80,"Pl‚notais pieg‚des datums",Normal,PlanArrDate,false,PasteCurDate);
  EditField(h3,v+=vs,80,"Pl‚notais pieg‚des laiks",Normal,PlanArrTime,false,PasteCurTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin   
  EditField(h,vm=(v+=32),80,"Faktiskais nos. dat.",Normal,ActSendDate,false,PasteCurDate);
  EnterSkip(ActSendTime);
  EditField(h2,v,40,"Faktiskais d.sk.",ViewOnly,ActDurationDays,false,0);
  EditField(h,v+=vs,80,"Faktiskais nos. laiks",Normal,ActSendTime,false,PasteCurTime);
  EnterSkip(ActArrDate);
  EditField(h2,v,80,"Faktiskais st.sk.",ViewOnly,ActDurationTime,false,0);
  EditField(h3,v=vm,80,"Faktiskais pieg‚des datums",Normal,ActArrDate,false,PasteCurDate);
  EditField(h3,v+=vs,80,"Faktiskais pieg‚des laiks",Normal,ActArrTime,false,PasteCurTime);
  end;
  Tile(tilenr,110,false,tilenr,FreightCode); tilenr = tilenr + 1;
  vs = 20; h2 = 255; 
  EditField(h=130,v=6,60,"Transporta komp.",Normal,FreightCode,false,FreightCompanySClass);
  EditField(h2,v,-40,"Re®. Nr.",Normal,FreightCompanyRegNr,false,0);
  EditField(h,v+=vs,-40,"Nosaukums",Normal,FreightCompany,false,0);
  EditField(h,v+=vs,-40,"A/M inform‚cija",Normal,TruckInfo,false,0);
  EditField(h,v+=vs,-40,"Vad´t‚js",Normal,Driver,false,0);
  EditField(h,v+=vs,-40,"CMR",Normal,CMRText,false,0);
  if (HasNumberSeries and HasLocalization("PRT")) then begin  
    if (HasOfficialSerNr) then begin
      EditField(h,v+=vs,100,"Pavadz. Nr. 2",Normal,OfficialSerNr2,false,0);  
      EditField(h2+100,v,135,"Statuss",Normal,Status,false,SetSClass);  
    end;    
  end;
  Tile(tilenr,200,false,tilenr,FrAddr0); tilenr = tilenr + 1;
  vs = 20; h2 = 255;
  EditField(h=130,v=6,-40,"No adreses",Normal,FrAddr0,false,0);  
  EditField(h,v+=vs,-40,"",Normal,FrAddr1,false,0);  
  EditField(h,v+=vs,-40,"",Normal,FrAddr2,false,0);  
  EditField(h,v+=vs,-40,"",Normal,FrAddr3,false,0);  
  EditField(h,v+=vs,-40,"",Normal,FrAddr4,false,0);  
  if (HasThrouLocation) then begin
  EditField(h,v+=vs,-40,"Caur adresi",Normal,ThrouAddr0,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr1,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr2,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr3,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr4,false,0);  
  end;
  EditField(h,v+=vs,-40,"Uz adresi",Normal,ToAddr0,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ToAddr1,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ToAddr2,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ToAddr3,false,0);  
  EditField(h,v+=vs,-40,"",Normal,ToAddr4,false,0);  
  SpecialMenu("Paäizmaksa p•c vec‚s cenas",'=',0,"StockMovFillFIFODsm");
  SpecialMenu("Artikulu mekl•äana",'f',1,"ItemSearchDsm");
  if (HasIntegratedNL) then begin
  SpecialMenu("Atv•rt gr‚matojumu nosðt´ts",' ',2,"OpenTRFromStockMovSent");
  SpecialMenu("Atv•rt gr‚matojumu saÀemts",'t',3,"OpenTRFromStockMov");
  end;
  if (HasLocalization("PRT")) then begin  
    if (HasETaxDocuments) then begin
      SpecialMenu("Sðt´t uz nodokºu iest‚d•m",'',10,"EShipPRTDsm");  
    end;
  end;  
   if (HasConsStockMoveInvoices) then begin 
     SpecialMenu("Druk‚t Noliktavas kust´bas R•úinus",'p',3,"PrintStockMovInvoices");    
   end;   
  EndWindow;
end;

window PurRClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("Veidot iztrðkstoäo pre‹u p‚rskatu",PurRClass,CGRcW,RcType);
  SetWRect(20,80,450,380);
  v = 6; vs = 20; h = 140;
  EditFieldTL(h,v, 150,"Artikuls",M4UStr,Normal,50,f1,false,INSClass);
  if (HasItemGroups) then begin
  EditFieldTL(h,v+=vs, 150,"Grupa",M4UStr,Normal,11,f3,false,ITSClass);
  end;
  if (HasItemClassification) then begin
  EditFieldTL(h,v+=vs, 150,"Artikulu klasifik‚cija", M4UStr,Normal,60,f4,false,DISClass); 
  EditFieldTL(h,v+=vs, 70,"Klasifik‚ciju tips",M4UStr,Normal,60,f5,false,CTypeSClass);
  end;
  if (HasMultiLocations) then begin
  EditFieldTL(h,v+=vs, 150,"Noliktava",M4UStr,Normal,10,FirstAcc,false,LocationSClass);
  end;
  if (HasDepartments) then begin
    if (StandardHansa==false) then begin
  EditFieldTL(h,v+=vs, 150,"Departaments",M4UStr,Normal,10,LastAcc,false,DepSClass);
    end;
  end;
  if (HasSalesman or HasSalesmanBonus) then begin
  EditFieldTL(h,v+=vs ,100,"A®ents",M4UStr,Normal,10,AccStr,false,UserSClass);
  end;
  if (HasSalesGroup) then begin
    EditFieldTL(h,v+=vs ,50,"A®entu grupa",M4UStr,Normal,10,Stext,false,SalesGroupSClass); 
  end;
  if (IsEnterprise) then begin
  CheckBox(h,v+=30,0,"Pasðt. artikul‚ p‚rbaud´t parasto pasðt. daudz.",flags[5]);
  CheckBox(h,v+=16,0,"Izlaist artikulus bez atlikuma",flags[3]);
  CheckBox(h,v+=16,0,"Izlaist artikulus bez iztrðkuma",flags[4]);
    CheckBox(h,v+=16,0,"Iekºaut tikai apstr. pasðt´jumus",flags[7]); 
  end;
  if (HasVarieties) then begin
  CheckBox(h,v+=16,0,"R‚d´t vari‚cijas",flags[6]);
  end;
  CheckBox(h,v+=16,0,"Iekºaut materi‚lu iztrðkumu no kl. pasðt´jumiem",flags[10]);//payout-20; edz
  CheckBox(h,v+=16,0,"R‚d´t tikai materi‚lus",flags[11]);//payout-20; edz
  ButtonFrame(h,vm=(v+=41),123,3,"Sec´ba p•c");
  RadioButton(h,v,0,0,"Artikula",flags[2]);
  if (HasItemGroups) then begin
  RadioButton(h,v+=16,1,0,"Grupas",flags[2]);
  end;
  RadioButton(h,v+=16,2,0,"Nosaukuma",flags[2]);
  EndFrame;
  EndWindow;
end;

window PlanRecordsVClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v;
  WindowBegin("Veidot pl‚notos ierakstus",PlanRecordsVClass,CGMnt,RcType);
  SetWRect(20,80,520,400);
  PeriodField(h=160,v=6,"Pl‚notais periods");
  EditFieldTL(h,v+=20,150,"Artikuli",M4UStr,Normal,41,f1,false,INSClass);
  if (HasItemGroups) then begin
  EditFieldTL(h,v+=20,150,"Artikulu grupas",M4UStr,Normal,5,f2,false,ITSClass);
  end;
  if (HasItemClassification) then begin
  EditFieldTL(h,v+=20,150,"Klasifik‚cija",M4UStr,Normal,5,f4,false,DISClass);
  end;
  if (HasMultiLocations) then begin
  EditFieldTL(h,v+=20,150,"Noliktavas",M4UStr,Normal,21,f3,false,LocationSClass);
  EditFieldTL(h,v+=20,150,"Raìoäanas noliktavas",M4UStr,Normal,21,f6,false,LocationSClass);
  end;
  EditFieldTL(h,v+=20,150,"Galven‚ sast‚vdaºa",M4UStr,Normal,21,f10,false,INSClass);//payout-20; edz
  EditFieldTL(h,v+=20,150,"Pasðt´juma datums",M4Date,Normal,0,d1,false,PasteCurDate);//payout-20; edz
  if (IsEnterprise) then begin
  ButtonFrame(h,v+=45,150,2,"Veidot");
  CheckBox(h,v,0,"Raìojumus",flags[1]); 
  CheckBox(h,v+=16,0,"Pasðt´jumus",flags[2]);
  end;
  CheckBox(h,v+=40,0,"Ignor•t paäreiz•j‚s noliktavas v•rt´bas",flags[3]);
//  CheckBox(h,v+=16,0,"Include Items with no future plans",flags[4]);
  CheckBox(h,v+=16,0,"No katra klientu pasðt´juma izveidot pasðt´jumu",flags[5]);
  CheckBox(h,v+=16,0,"Pasðt´t visas sast‚vdaºas",flags[6]);
  StaticText(h+18,v+=27,"Iekºaujot sast‚vdaºas, kas nepiecieäamas pirms perioda.",false);
  EndWindow;
end;

window BarcodeDClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v;
  WindowBegin("Sv´tru kods",BarcodeDClass,CGview,-);
  SetWRect(64,80,509,170);
  UseView(BarcodeVc);
  EditField(120,v=6,-40,"Sv´tru kods",Normal,Barcode,false,0);
  EditField(120,v+=20,-40,"Artikuls",Normal,Itemcode,false,INSClass);
  EditField(120,v+=20,-40,"Artikuls bez var.",Normal,OrigItemcode,false,INSClass);//payout-21; edz
  EditField(120,v+=20,-40,"Klients",Normal,CustCode,false,CUSClass);
  EditField(120,v+=20,-40,"Koment‚rs",Normal,Comment,false,0);
  EndWindow;
end;

window ORLClass:3
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  Integer pos,rn;

  WindowBegin("Klientu pasðt´jumi",ORLClass,CGmlist,-);
  SpawnClass(ORDClass);
  SetWRect(20,80,900,298);
  Sizeable(-1,-1,0,0);
  UseView(ORVc);
  FormName(PrintORL);
  RecordList(4,17,-21,-39);
    RlColKey(4,4,"N_r.",SerNr,false,SerNr);
  RlColKey(79,79,"Apst.",OKFlag,false,OKFlag);
  pos = 111;
  if (HasModIN) then begin
    RlColKey(pos,pos,"Nos.",ShipMark,false,ShipFlag);  
    pos = pos + 32;
  end;
  if (HasModSL) then begin
    RlColKey(pos,pos,"R•ú.",InvMark,false,InvFlag);  
    pos = pos + 32;
  end;
  RlCol(pos,pos,"Sl.",Closed,false);  
  pos = pos + 32;
  RlColKey(pos,pos,"Pasðt. dat.",OrdDate,false,OrdDate);  
  pos = pos + 80;
  //payout-21; edz:
  RlColKey(pos,pos,"Pl‚n. nos. dat.",PY_PlanShip,false,PY_PlanShip);
  pos = pos + 80;
  //:edz
  if (HasMultiLocations) then begin
    RlCol   (pos,pos,"Noliktava",Location,false);  
    pos = pos + 60;
  end;
  RlColKey(pos,pos,"Kl. pas. Nr.",CustOrdNr,false,CustOrdNr); 
  pos = pos + 80;
  RlColKey(pos,pos,"Klients",CustCode,false,CustCode); 
  pos = pos + 60;
  RlColKey(pos,pos,"Nosaukums",Addr0,false,Name); 
  if (IsEnterprise) then begin
    if (AcceptanceStatusColumnTest("ORVc")) then begin  //!!SAMETRANSLATION
      CalculatedColumn(-240,-240,"Apst.","ORLClassAcceptanceStatus",false);
    end;
    RlColKey(-200,-200,"Klase",OrderClass,false,OrderClass);
    RlColKey(-155,-155,"Kop‚",Sum4,true,Sum4);  
    RlCol(-75,-75,"Apmaks‚ts",DownPaySent,true);  
  end else begin
    RlColKey(-55,-55,"Kop‚",Sum4,true,Sum4); 
  end;
  if (HasLimitedAccess) then begin
  BrowseSubsetButton(-40,-15);
  end;
  SearchField("Mekl•"); 
  if (GuiType==kGuiMetro) then begin
    rn = 0;
    RowMenuBegin("");  
    if (HasModIN) then begin
      RowMenuItem(rn,"Veidot nosðt´äanu",'L','L',4300,"SHFromORLsm"); rn = rn + 1;  
    end;
    RowMenuItem(rn,"Veidot r•úinu",'L','L',4300,"IVFromORLsm"); rn = rn + 1;  
    if (HasDownpayments) then begin
      RowMenuItem(rn,"Veidot priekäapmaksas r•úinu",'o','o',4300,"DownPayFromORLsm"); rn = rn + 1;  
    end;
    RowMenuItem(rn,"Pasðt´juma statuss",'r','r',4300,"ORStatusORLsm"); rn = rn + 1;  
    if (HasModPO) then begin
      RowMenuItem(rn,"Veidot pasðt´jumu",' ',' ',4300,"POFromORLsm"); rn = rn + 1;  
    end;
    if (HasModCRM) then begin
      RowMenuItem(rn,"Veidot aktivit‚ti",'c','c',4300,"ActFromORLsm"); rn = rn + 1;
    end;
    if (IsEnterprise) then begin
      RowMenuItem(rn,"R•úins jau izrakst´ts",' ',' ',4300,"ORToInvORLsm"); rn = rn + 1;  
    end;
    EndRowMenu;
  end else begin
    SpecialMenu("Pasðt´juma statuss",'r',3,"ORStatusORLsm"); 
    if (IsEnterprise) then begin
      SpecialMenu("R•úins jau izrakst´ts",' ',6,"ORToInvORLsm"); 
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  if (HasModIN) then begin
  SpecialMenu("Nosðt´äanu",'L',0,"SHFromORLsm");
  end;
  SpecialMenu("R•úinu",'F',1,"IVFromORLsm");  
    if (HasDownpayments) then begin
  SpecialMenu("Priekäapmaksas r•úinu",'o',2,"DownPayFromORLsm");  
  end;
  if (HasModPO) then begin
  SpecialMenu("Pasðt´jumu",' ',4,"POFromORLsm");  
  end;
  if (HasModCRM) then begin
      SpecialMenu("Aktivit‚ti",'c',5,"ActFromORLsm");
    end;
  end;
  EndWindow;
end;

window OrdItemRClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("Veidot atskaiti Pasðt´tie artikuli",OrdItemRClass,CGRcW,RcType);
  SetWRect(20,80,450,340);
  v = 6; vs = 20; h = 140;
  PeriodField(h,v,"Periods");
  EditFieldTL(h,v+=vs, 150,"Artikuls",   M4UStr,Normal,50,f1,false,INSClass);
  if (HasItemGroups) then begin
  EditFieldTL(h,v+=vs, 150,"Artikulu grupa",   M4UStr,Normal,11,f3,false,ITSClass);
  end;
  if (HasItemClassification) then begin
    EditFieldTL(h,v+=vs, 150,"Artikulu klasifik‚cija", M4UStr,Normal,60,f8,false,DISClass); 
  end;
  if (IsEnterprise) then begin
  EditFieldTL(h,v+=vs, 150,"Pasðt. veids",   M4UStr,Normal,11,ObjStr,false,OrderClassSClass);
  end;
  EditFieldTL(h,v+=vs, 80,"Pl‚nots nosðt´t",M4Str,Normal,10,LastAcc,false,PasteCurDate);
  if (IsEnterprise) then begin
    h = 30;
  end;
  ButtonFrame(h,vm=(v+=41),123,2,"Cena");  
  RadioButton(h,v,0,0,"áodienas cena",flags[7]);
  RadioButton(h,v+=16,1,0,"Cena no pasðt´juma",flags[7]);
  if (IsEnterprise) then begin
  ButtonFrame(h+=150,v=vm,123,2,"Valðtas kurss");
  RadioButton(h,v,0,0,"áodienas",flags[6]);
  RadioButton(h,v+=16,1,0,"Pasðt´juma datuma",flags[6]);
    h = 30;
  end;
  ButtonFrame(h,vm=(v+=41),123,3,"K‚rtot p•c");  
  RadioButton(h,v,0,0,"Nr.",flags[2]);
  if (HasItemGroups) then begin
  RadioButton(h,v+=16,1,0,"Grupas",flags[2]);
  end;
  RadioButton(h,v+=16,2,0,"Apraksta",flags[2]);
  EndFrame;
  if (IsEnterprise) then begin
  ButtonFrame(h+=150,v=vm,123,3,"Druk‚t");
  RadioButton(h,v,0,0,"Artikulus",UsedOnly);
  RadioButton(h,v+=16,1,0,"Grupu summas",UsedOnly);
  RadioButton(h,v+=16,2,0,"Artik. pa vari‚cij‚m",UsedOnly);
  end else begin
    if (HasItemGroups) then begin
      CheckBox(h,v+=24,0,"Tikai grupu summas",UsedOnly);
    end;
  end;
  CheckBox(h=30,v+=32,0,"Iekºaut materi‚lu iztrðkumu no kl. pasðt´jumiem",flags[10]);//payout-20; edz
  CheckBox(h,v+=16,0,"R‚d´t tikai materi‚lus",flags[11]);//payout-20; edz
  EndWindow;
end;

window SHDClass:1// Edit ************************** BPI Ukraine - KramarAlexandr - Tuesday, 17 April 2018 16:56:44
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  Integer tilenr,f,flipnr,rn;

  WindowBegin("Nosðt´t‚s preces",SHDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(SHVc);
  vs = 20;
 Tile(0,74,false,"",SerNr);
  EditField(75,vm=(v=6),95,"Nr.",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"Klients",ViewOnly,CustCode,false,0);
  EditField(h=255,v=vm,-40,"Nosaukums",Normal,Addr0,false,0);
  v = v + vs;
  if (HasOfficialSerNr and (HasLocalization("AGO")==false)) then begin
    EditField(h,vm=v,135,"Pavadz. Nr.",Normal,OfficialSerNr,false,LegalInvNrSClass);
  end;  
  if (HasTREO) then begin
  EditField(h+230,vm,95,"TREO Nr.",Normal,TREONr,false,0);
  end;
  CheckBox(h4=-100,v,0,"Gr‚matot",OKFlag);
  tilenr = 1;
  if (IsEnterprise) then begin
    TileButton(tilenr,"Nosac´jumi"); tilenr = tilenr + 1;
    TileButton(tilenr,"Artikuli"); tilenr = tilenr + 1;
    TileButton(tilenr,"Pieg‚des nosac."); tilenr = tilenr + 1;
    TileButton(tilenr,"Iepakoäana"); tilenr = tilenr + 1;
    TileButton(tilenr,"Pieg‚des adrese"); tilenr = tilenr + 1;  
    TileButton(tilenr,"Koment‚rs"); tilenr = tilenr + 1;  
    if (StandardHansa==false) then begin
    TileButton(tilenr,"Pieg‚de"); tilenr = tilenr + 1;
    end;
  end else begin
    TileButton(tilenr,"Koment‚rs"); tilenr = tilenr + 1;
    TileButton(tilenr,"Artikuli"); tilenr = tilenr + 1;
    TileButton(tilenr,"Adreses"); tilenr = tilenr + 1;
    if (HasLocalization("PRT")) then begin  
      if (HasModIN and HasModSL) then begin 
        TileButton(tilenr,"Iepakojums"); tilenr = tilenr + 1;     
      end;
      TileButton(tilenr,"Pieg‚de"); tilenr = tilenr + 1;  
    end;
  end;
  tilenr = 1;
  Tile(tilenr,70,false,tilenr,ShipDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"Datums",Normal,ShipDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"Noliktava",Normal,Location,false,LocationSClass);
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"Maräruts",Normal,Sorting,false,DelRouteSClass);
  end;
  if (IsEnterprise) then begin
    v = v + vs;
    SoftEditField(h1,v,82,"Sv´trkods",Normal,"scanbarcode",false,0,M4Str,60); 
  end;
  if (HasObjects) then begin
  EditField(h2,v=vm,135,"Objekti",Normal,Objects,false,ObjSClass);
  end;
  if (HasBranch) then begin
    v = v + vs;
    EditField(h2,v,135,"Fili‚le",ViewOnly,BranchID,false,0);
  end;
  if (HasMultiLocations or HasModTS) then begin
    v = v + vs;
  end;
  if (HasModTS) then begin
    EditField(h2,v,135,"Projekts",ViewOnly,PRCode,false,0);
  end;
  if (HasObjects) then begin
    EditField(h3,v=vm,80,"Pasðt. Nr.",ViewOnly,OrderNr,false,0);  
  end else begin
    if (IsEnterprise==false) then begin
      if (HasModTS) then begin
        EditField(h3,v=vm,135,"Pasðt. Nr.",ViewOnly,OrderNr,false,0);
      end else begin
        EditField(h2,v=vm,135,"Pasðt. Nr.",ViewOnly,OrderNr,false,0);  
      end;
    end;
  end;
  if (IsEnterprise) then begin
  EditField(h3,v+=vs,80,"Pasðt´juma veids",Normal,SHClass,false,OrderClassSClass);
  CheckBox(h4,v=6,0,"Tel. ziÀojums",Check1);
  end;
  
  HalPushButton(h3,v+2*vs,h3+120,v+3*vs,"UpdateAvailSHDsm","Atjaunot atlikumus");// Edit ************************** BPI Ukraine - KramarAlexandr - Wednesday, 18 April 2018 10:03:54
  
  if (IsEnterprise==false) then begin
    if (HasMultiLocations) then begin
      EditField(h1,v+=2*vs,-40,"Koment‚rs",Normal,Comment,false,0);  
    end else begin
      EditField(h1,v+=vs,-40,"Koment‚rs",Normal,Comment,false,0);  
    end;
    if (HasLanguages) then begin 
      EditField(h1,v+=vs,82,"Valoda",Normal,LangCode,false,LangSClass); 
    end;      
  end;
  Tile(tilenr,190,true,tilenr,Math); tilenr = tilenr + 1;
  v = 20;
  MatrixBegin(4,v,-50,-35,-,200);
  MatTypedRow(stp);
  Flip(0);
  MatCol(1,32,"Artikuls",0,ArtCode,false,ForSaleINSClass);
//  MatCol(1,94,"Veids",0,VARList,false,VARSClass);
//  MatCol(1,144,"Nosaukums",0,Spec,false,0);
  MatCol(1,94,"Nosaukums",0,Spec,false,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"Artikuls",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,false,VARSClass);
//  MatCol(t,144,"Description",0,Spec,false,0);
  MatCol(t,94,"Apraksts",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeHidden,32,"Print•jot, ä´ rinda un visas rindas zem t‚s bðs pasl•ptas",false);
  t = kInvoiceRowTypePerceptionTax;    
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasCustItem) then begin
    MatCol(1,-230,"Kl.artik.Nr.",0,CustArtCode,false,CUINSClass);
  end;
  MatCol(1,-150,"Pasðt´ts",0,Ordered,true,0);
  MatCol(1,-98,"Pieej.",0,InStock,true,0);
  MatCol(1,-50,"Nosðt.",0,Ship,true,0);
  if (HasCustItem) then begin
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-230,"Klienta artik. Nr.",0,CustArtCode,false,CUINSClass);
    MatCol(t,-150,"Pasðt´ts",0,Ordered,true,0); 
  end else begin
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-147,"Pasðt´ts",0,Ordered,true,0); 
  end;
  MatCol(t,-98,"Pieej.",0,InStock,true,0);
  MatCol(t,-50,"Nosðt.",0,Ship,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  if (IsEnterprise==false) then begin
    if (HasSerialNumbers) then begin
      MatCol(1,-350,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
    end;
    if (HasObjects) then begin
      MatCol(1,-250,"Objects",0,Objects,false,ObjSClass);
    end;
    MatCol(1,-98,"FIFO",0,FIFORowVal,false,0);
    if (HasLocalization("RUS")) then begin  
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-230,"Unit",0,UnitCode,false,UnitSClass);   //!!SAMETRANSLATION
      MatCol(1,-180,"Unit Name",0,UnitComment,false,0);   //!!SAMETRANSLATION
    end;
  end else begin
  MatCol(1,-350,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-250,"Der´gs l´dz",0,BestBefore,false,0);
  MatCol(1,-150,"Noliktava",0,Location,false,LocationSClass);
    if (HasPositions) then begin
  MatCol(1,-50,"Poz´cija",0,PosCode,false,UsedPosSClass);
    end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,-350,"S•r. Nr.",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-250,"Der´gs l´dz",0,BestBefore,false,0);
  MatCol(t,-150,"Noliktava",0,Location,false,LocationSClass);
    if (HasPositions) then begin
  MatCol(t,-50,"Poz´cija",0,PosCode,false,UsedPosSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    if (HasBuyBack) then begin
  MatCol(1,-400,"Atpirkä. cena",0,BBCostPrice,false,0);
    end;
  MatCol(1,-320,"Rindas FIFO",0,FIFORowVal,false,0);
    if (StandardHansa==false) then begin
  MatCol(1,-220,"Vid. sv. b‚zes 2",0,WAB2,false,0);
    end;
  MatCol(1,-120,"Cena",0,BasePrice,false,0);
  MatCol(1,-40,"Koef.",0,Coefficient,false,0);
    if (HasBuyBack) then begin
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"Atpirkä. cena",0,BBCostPrice,false,0);
  MatCol(t,-320,"Rindas FIFO",0,FIFORowVal,false,0);
    if (StandardHansa==false) then begin
  MatCol(t,-220,"Vid. sv. B‚zes 2",0,WAB2,false,0);
    end;
  MatCol(t,-120,"Cena",0,BasePrice,false,0);
  MatCol(t,-40,"Koef.",0,Coefficient,false,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,-400,"Specifik‚cija",0,Recepy,false,0);
  MatCol(1,-320,"Vieta",0,Source,false,SourceSClass);
  MatCol(1,-240,"Izrakst. r•ú.",0,Invd,false,0);
    if (StandardHansa==false) then begin
  MatCol(1,-160,"Izkrauä. dat.",0,DespatchRowDate,false,PasteCurDate);
  MatCol(1,-80,"Izkrauä. laiks",0,DespatchRowTime,false,PasteCurTime);
    end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"Specifik‚cija",0,Recepy,false,0);
  MatCol(t,-300,"Vieta",0,Source,false,SourceSClass);
  MatCol(t,-240,"Izr. r•úins",0,Invd,false,0);
    if (StandardHansa==false) then begin
  MatCol(t,-160,"Izkr. datums",0,DespatchRowDate,false,PasteCurDate);
  MatCol(t,-80,"Izkr. laiks",0,DespatchRowTime,false,PasteCurTime);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,-400,"Realiz. konts",0,SalesAcc,false,AccSClass);
  MatCol(1,-330,"Izmaksu konts",0,CostAcc,false,AccSClass);
  MatCol(1,-250,"Objekti",0,Objects,false,ObjSClass);
  MatCol(1,-135,"Plat.",0,UnitXval,true,0);
  MatCol(1,-90,"Augst.",0,UnitYval,true,0);
  MatCol(1,-45,"Biez.",0,UnitZval,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"Realiz. konts",0,SalesAcc,false,AccSClass);
  MatCol(t,-330,"Izmaksu konts",0,CostAcc,false,AccSClass);
  MatCol(t,-250,"Objekti",0,Objects,false,ObjSClass);
  MatCol(t,-135,"Plat.",0,UnitXval,true,0);
  MatCol(t,-90,"Augst.",0,UnitYval,true,0);
  MatCol(t,-45,"Biez.",0,UnitZval,true,0);
    if (StandardHansa==false) then begin
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,-300,"Iepakojumi",0,RowPackages,false,0);
  MatCol(1,-220,"Iep. tips",0,PackageType,false,PackTypeSClass);
  MatCol(1,-170,"Iep. nosaukums",0,PackageDesc,false,0);
  MatCol(1,-70,"Akc´ze",0,ExciseNr,false,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,-300,"Iepakojumi",0,RowPackages,false,0);
  MatCol(t,-220,"Iep. tips",0,PackageType,false,PackTypeSClass);
  MatCol(t,-170,"Iep. nosaukums",0,PackageDesc,false,0);
  MatCol(t,-70,"Akc´ze",0,ExciseNr,false,0);
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin(""); 
  RowMenuItem(0,"Artikula statuss",'I','I',0,"ItemStatusSHDsm"); 
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      RowMenuItem(0,"Sadal´t‚jrinda",' ',' ',0,"SplitRowSHDsm");
    end;
  end;
  EndRowMenu;
  EndMatrix;
  vs = 22;
//  v = 21;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1)); //!!SAMETRANSLATION
      v = v + vs;
    end;
  end;

//  CheckBox(20,-20,0,"OK",OKFlag);
  if (HasLocalization("PRT")) then begin  
    EditField(120,-20,150,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0); //!!SAMETRANSLATION
//    SoftEditField(120,-20,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  EditField(-131,-20,80,"Kop•jais daudz.",ViewOnly,TotQty,true,0);
  if (IsEnterprise) then begin
    Tile(tilenr,90,false,tilenr,ShipMode); tilenr = tilenr + 1;
  vs = 20;
  EditField(h1,v=vm,82,"Nosðt. veids",Normal,ShipMode,false,DMSClass);
  EditField(h1,v+=vs,80,"Nodokºu summa",ViewOnly,TAX1Sum,true,0);
    if (StandardHansa==false) then begin
  EditField(h1,v+=vs,80,"Deklar•t‚ v•rt´ba",Normal,DeclaredVal,true,0);
  EditField(h1,v+=vs,-20,"E-sðt´juma statuss",ViewOnly,EShipStatus,false,0);
      if (HasLocalization("BRA,BOL,PRT")) then begin  
        EditField(h1,v+=vs,80,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0); //!!SAMETRANSLATION
      end;
    end;
  EditField(h2,v=vm,80,"Kop•jais daudz.",ViewOnly,TotQty,true,0);
  EditField(h2,v+=vs,80,"Kop•jais svars",Normal,TotWeight,true,0);
  EditField(h2,v+=vs,80,"Kop•jais tilpums",Normal,TotVolume,true,0);
  CheckBox(473,v=vm,0,"Izmantot r•úina adresi",Check2);
    if (StandardHansa==false) then begin
  CheckBox(473,v+=16,0,"Elektroniskais sðt´jums izveidots",EShipmentCreated);
  CheckBox(473,v+=16,0,"Elektroniskais sðt´jums saÀemts",EShipCollected);
    end;
    Tile(tilenr,110,false,tilenr,Packages); tilenr = tilenr + 1;
    h2 = 310;
  EditField(h1,v=6,82,"Transporta Nr.",Normal,TransportNumber,false,0);
  EditField(h1,v+=vs,82,"Iepakojumi",Normal,Packages,true,0);
    if (HasLanguages) then begin 
  EditField(h1,v+=vs,82,"Valoda",Normal,LangCode,false,LangSClass);
    end;  
  EditField(h1,v+=vs,82,"Valðta",Normal,CurncyCode,false,CurncyCodeSClass);
    if (StandardHansa==false) then begin
  EditField(h1,v+=vs,-20,"Transporta nor‚des",Normal,TransportDirect,false,0);
      EditField(h1,v+=vs,80,"Pl‚n. nosðt. dat.",Normal,PlanSendDate,false,PasteCurDate);  
      EditField(h1,v+=vs,80,"Pl‚n. nosðt. laiks",Normal,PlanSendTime,false,PasteCurTime);  
    end;

  EditField(h2,v=6,135,"No pils•tas",Normal,FromCity,false,0);
  EditField(h2,v+=vs,135,"Uz pils•tu",Normal,ToCity,false,0);
  EditField(h2,v+=vs,135,"No doka",Normal,FromDock,false,0);
  EditField(h2,v+=vs,135,"Uz doku",Normal,ToDock,false,0);
    if (StandardHansa==false) then begin
      EditField(h2,v+=2*vs,80,"Pl‚n. pieg. dat.",Normal,PlanArrDate,false,PasteCurDate);  
      EditField(h2,v+=vs,80,"Pl‚n. pieg. laiks",Normal,PlanArrTime,false,PasteCurTime);  
    end;
  end;
  Tile(tilenr,150,false,tilenr,Addr1); tilenr = tilenr + 1;
  vs = 20;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
  EditField(h1,v=6,80,"Adreses kods",Normal,DelAddrCode,false,DelAddr3SClass);
  EditField(h1,v+=vs,-20,"Pieg‚de",Normal,Addr1,false,0);
    end else begin
      EditField(h1,v=6,-20,"Pieg‚de",Normal,Addr1,false,0);  
    end;
  EditField(h1,v+=vs,-20,"Adrese",Normal,Addr2,false,0);
  end else begin
    EditField(h1,v=6,-20,"Adrese",Normal,Addr1,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Addr2,false,0);
  end;
  EditField(h1,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  if (HasCountryPerCustomer) then begin
  EditField(h1,v+=vs,80,"Valsts",Normal,DelCountry,false,CountrySClass);
    if (HasLocalization("BRA")) then begin   
      EditField(h2-109,v,232,"",ViewOnly,DelCountryName,false,0);  
    end;    
  end;
  if (IsEnterprise) then begin
  EditField(h3,v,-20,"Re®ions",Normal,Region,false,RegionSClass); 
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1+10,v=6,-20,"Koment‚rs",Normal,Comment,false,0);
    EditField(h1+10,v+=20,-20,"Realiz. l´guma tips",Normal,ORCOType,false,0);  
    if (HasNumberSeries and HasLocalization("PRT")) then begin  
      if (HasOfficialSerNr) then begin
        EditField(h1+10,v+=vs,100,"Pavadz. Nr. 2",Normal,OfficialSerNr2,false,0);  
        EditField(h2,v,135,"Statuss",Normal,Status,false,SetSClass);  
      end;    
    end;
  end else begin
    if (HasLocalization("RUS")) then begin  
      EditField(h1,v+=vs,80,"Kop•jais svars",Normal,TotWeight,true,0);  
    end;
  end;
  if (IsStandardProduct and HasLocalization("PRT,LTU") and HasModIN and HasModSL) then begin 
    Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
    h2 = 310;
    EditField(h1,v=6,80,"Pl‚n. nosðt. dat.",Normal,PlanSendDate,false,PasteCurDate);  
    EditField(h1,v+=vs,80,"Pl‚n. nosðt. laiks",Normal,PlanSendTime,false,PasteCurTime);  
    if (HasLocalization("PRT")) then begin
    EditField(h2,v=6,80,"Pl‚n. pieg. dat.",Normal,PlanArrDate,false,PasteCurDate);  
    EditField(h2,v+=vs,80,"Pl‚n. pieg. laiks",Normal,PlanArrTime,false,PasteCurTime);        
  end;
  end;
  if (IsEnterprise or HasLocalization("PRT,LTU")) and (StandardHansa==false) then begin
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      HalPushButton(473,2,600,22,"UpdateSHPackages","Defin•t pakas");
    end;
    EditField(h1,v=6,80,"Transporta komp.",Normal,FreightCode,false,FreightCompanySClass);  
    EditField(h1,v+=vs,-20,"Nosaukums",Normal,FreightCompany,false,0);  
    EditField(h1,v+=vs,-20,"Re®. Nr.",Normal,FreightCompanyRegNr,false,0);  
    EditField(h1,v+=vs,-20,"A/M inform‚cija",Normal,TruckInfo,false,0);  
    if (IsEnterprise or HasLocalization("PRT")) then begin
    EditField(h1,v+=vs,-20,"Vad´t‚js",Normal,Driver,false,0);  
    EditField(h1,v+=vs,-20,"CMR",Normal,CMRText,false,0); // International transporting number   //!!SAMETRANSLATION
    end;
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu("Artikula statuss",'I',2,"ItemStatusSHDsm");  
    if (HasIntegratedNL) then begin
      SpecialMenu("Atv•rt gr‚matojumu",'t',3,"OpenTRFromSH");  
    end;
    SpecialMenu("Druk‚t pieg‚des uzl´mes",'l',0,"PrintSHLabSHDsm");  
    if (HasReturnedGoods and HasModIN) then begin
      SpecialMenu("Veidot atgriezto preci",'B',5,"RetFromSHSpec");  
    end;
  end else begin
  SpecialMenu("Druk‚t kravas uzl´mes",'l',0,"PrintSHLabSHDsm");
  if (IsEnterprise) then begin
  SpecialMenu("R•úin‚t svaru",'w',1,"SHCalcWeightDsm");
  end;
  if (HasIntegratedNL) then begin
  SpecialMenu("Atv•rt gr‚matojumu",'t',3,"OpenTRFromSH");
  end;
  if (HasLocalization("SWE")) then begin  
  SpecialMenu("ASG eksports",' ',4,"ASGEnSHDsm"); /* Specific for Sweden */
  end;
  if (HasLocalization("NOR")) then begin  
  SpecialMenu("Winedi eksports",' ',4,"WinEDIEnSHDsm"); /* Specific for Norway */
  end;
  if (HasLocalization("PRT")) then begin  
    if (HasETaxDocuments) then begin
    SpecialMenu("Sðt´t uz nodokºu iest‚d•m",'',10,"EShipPRTDsm");  //tax authorities server is down   //!!SAMETRANSLATION
    end;
  end;
  if (IsEnterprise) then begin
  SpecialMenu("Aizpild´t artikulu s•rijas Nr.",' ',6,"INBatchSHSpec");
  end;
  if (HasModWHM) then begin
  SpecialMenu("Apstiprin‚t noliktavas kust´bas",' ',8,"OKStockMovSHrDsm");
  SpecialMenu("Druk‚t noliktavas pre‹u sarakstu",' ',9,"PickingListDsm");
  end;
//  SpecialMenu("Calculate Manually",' ',10,"CalcSHMan"); /* Specific for one customer in Portugal, you may comment it out */
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
  SpecialMenu("Re®istr•t elektronisko sðt´jumu",' ',9,"EShipRegisterDsm");
    end;
    if (GuiType==kGuiiPhone) then begin
      SpecialMenu("Paraksts",' ',10,"SignSHDsm");  
    end;
  end;
  SpecialMenu("Atjaunot atlikumus",' ',9,"UpdateAvailSHDsm");// Edit ************************** BPI Ukraine - KramarAlexandr - Tuesday, 17 April 2018 14:32:25
 
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  if (HasModSL) then begin
    SpecialMenu("R•úinu",'F',1,"IVFromSHDsm"); 
  end;
  if (IsEnterprise or HasReturnedGoods) then begin
    SpecialMenu("Atgriezto preci",'B',2,"RetFromSHDsm"); 
  end;
  end;
  EndWindow;
end;

window INDClass:8
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  integer tilenr;
  real h,h1,h2,h3,h4,h5,h6,v,vm,vs;
  string 255 label;
  record CYBlock CYb;
  LongInt bm,lt,rt,tp;
  
  BlockLoad(CYb);
  WindowBegin("Artikuls",INDClass,CGview,-);
  SetWRect(20,80,830,400);
  Sizeable(-1,-1,-1,0);
  DynamicWindow;
  UseView(INVc);
  if (GuiType==kGuiAndroid) then begin
    ToolBar;
    PushButton(-110,5,-10,25,ToolImagePicker,"Att•ls"); 
    EndToolBar;
  end;
  
  if (HasJewelleryInterface) then begin
    Tile(0,107,false,"",Code);  
  end else begin
  Tile(0,87,false,"",Code);
  end;
  v = 6; vs = 20; h = 155; h1 = 300; h2 = 385; h3 = 395; h4 = 285; h5 = 433;
  EditField(h,v, 150,"Nr.",Normal,Code,false,0);
  EditField(h2,v,80,"Grupa",Normal,Group,false,ITSClass);
  EditField(h,v+=vs,-40,"Apraksts",Normal,Name,false,0);
  if (HasJewelleryInterface) then begin
    EditField(h,v+=vs,150,"Alt. kods",Normal,AlternativeCode,false,0);  
  end;
  tilenr = 1;
  TileButton(tilenr,"Cenas"); tilenr = tilenr + 1;
  if (HasJewelleryInterface) then begin
    TileButton(tilenr,"D‚rglietas"); tilenr = tilenr + 1; 
    TileButton(tilenr,"PulksteÀi"); tilenr = tilenr + 1; 
  end;
  TileButton(tilenr,"Nol."); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
  TileButton(tilenr,"Nol. vad."); tilenr = tilenr + 1;
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
  TileButton(tilenr,"Izm."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"Specif."); tilenr = tilenr + 1;
  TileButton(tilenr,"Konti"); tilenr = tilenr + 1;
  if (GuiType==kGuiiPhone) then begin
    TileButton(tilenr,"Att•ls"); tilenr = tilenr + 1;  
  end;
  TileButton(tilenr,"Vari‚c."); tilenr = tilenr + 1;
  TileButton(tilenr,"Teksti"); tilenr = tilenr + 1;
  TileButton(tilenr,"Izm. mod."); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
  TileButton(tilenr,"Liet. v•rt."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"Piez´mes"); tilenr = tilenr + 1;  
  if (HasCharts) then begin
    TileButton(tilenr,"BI"); tilenr = tilenr + 1;   
  end;
  TileButton(tilenr,"Shopify"); tilenr = tilenr + 1;// Edit ************************** BPI Ukraine - KramarAlexandr - Thursday, 3 May 2018 17:39:08
  tilenr = 1;
  CheckBox(h,v+=vs,0,"Sl•gts ",Terminated);
  CheckBox(h2,v,0,"Nav paredz•ts p‚rdoäanai",NotForSales);
  if (GuiType==kGuiiPhone) then begin
    GetScreenSize(CurWindow,tp,lt,bm,rt);
    Pict_Field(5,v+=20,rt-10,bm-10,""); 
  end;
  Tile(tilenr,209,false,tilenr,Unittext); tilenr = tilenr + 1;
  EditField(h,v=6 ,100,"Vien´ba",Normal,Unittext,false,UnitSClass);
  if (HasJewelleryInterface) and (UserCanAction("ViewCostPrice",true)) then begin
    EditField(h,v+=vs,100,"Paäizmaksa",Normal,InPrice,true,0); 
  end;
  EditField(h,v+=vs,100,"Cena",Normal,UPrice1,true,0);
  EditField(h,v+=vs,100,"Cenas izmaiÀas",ViewOnly,LastBasePriceChange,true,0);
  EditField(h,v+=vs,100,"Cenas faktors",Normal,PriceFactor,true,0);
  EditField(h,v+=vs,100,"Cenas formula",Normal,CalcPrice,false,CPMSClass);
  EditField(h,v+=vs,100,"Uzcenojums",Normal,Markup,true,0);
  EditField(h,v+=vs,100,"Pr•mijas %",Normal,Bonus,true,0);
  EditField(h,v+=vs,-240,"Objekti",Normal,Objects,false,ObjSClass);
  if (HasItemClassification) then begin
  EditField(h,v+=vs,-240,"Artikulu klase",Normal,DispGroups,false,DISClass);
  end;
  if (StandardHansa==false) then begin
  ButtonFrame(h1,v=24,120,4,"Artikula tips");
  end else begin
    ButtonFrame(h1,v=24,120,3,"Artikula tips");  
  end;
  RadioButton(h1,v,kItemTypePlain,0,"Vienk‚räs",ItemType);
  RadioButton(h1,v+=16,kItemTypeStocked,0,"Noliktavas",ItemType);
  RadioButton(h1,v+=16,kItemTypeStructured,0,"Struktur•tais",ItemType);
  if (StandardHansa==false) then begin
  RadioButton(h1,v+=16,kItemTypeService,0,"Servisa",ItemType);
  end;
  EndFrame;
 
  Pict_Field(-205,8,-35,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker,"Pievienot att.");
  end;  
  if (StandardHansa==false) then begin
  CheckBox(h1,v+=32,0,"Projektos uzskat´t par nol. artikulu",ItemMaterial);
  end;
  if (HasJewelleryInterface) then begin
    Tile(tilenr,110,false,tilenr,Metal); tilenr = tilenr + 1;
    EditField(h,v=6, 140,"Met‚ls",Normal,Metal,false,0); 
    EditField(h,v+=vs, 140,"Svars",Normal,RowWeight,false,0); 
    EditField(h,v+=vs, 140,"Izm•rs",Normal,Size,false,0); 
    EditField(h,v+=vs, 140,"Garums",Normal,Length,false,0); 
    EditField(h,v+=vs, 140,"Atsauksme",Normal,Reference,false,0); 
    v = 6; 
    EditField(h5,v, 140,"Pamatakments",Normal,MajStoneDet,false,0); 
    EditField(h5,v+=vs, 140,"Kr‚sa",Normal,Colour,false,0); 
    EditField(h5,v+=vs, 140,"T´r´ba",Normal,Clarity,false,0); 
    EditField(h5,v+=vs, 140,"Sertifik‚ts",Normal,Cert,false,0); 
    EditField(h5,v+=vs, 140,"Papildu akmens",Normal,MinStoneDet,false,0); 
    Tile(tilenr,90,false,tilenr,WatchBrand); tilenr = tilenr + 1;
    EditField(h,v=6, 140,"PulksteÀa z´mols",Normal,WatchBrand,false,0); 
    EditField(h,v+=vs, 140,"Stila nosaukums",Normal,StyleName,false,0); 
    EditField(h,v+=vs, 140,"PulksteÀa met‚ls",Normal,WatchMetal,false,0); 
    EditField(h,v+=vs, 140,"Izplat´ba",Normal,Movement,false,0); 
    v = 6; 
    EditField(h5,v, 140,"Spr‚dze",Normal,BrcStr,false,0); 
    EditField(h5,v+=vs, 140,"Dzimuma",Normal,Gender,false,0); 
    EditField(h5,v+=vs, 140,"Cits",Normal,Other,false,0); 
    EditField(h5,v+=vs, 140,"Cits 2",Normal,Other2,false,0); 
  end;
  Tile(tilenr,170,false,tilenr,MinLevel);  tilenr = tilenr + 1; // Need to clean this Tile up!
  v = 6;
  vm = v;
  ButtonFrame(h1,v+=24,143,3,"S•rijas numurs");
  RadioButton(h1,v,0,0,"Nek‚ds",SerNrf);
  RadioButton(h1,v+=16,1,0,"Vien´bas",SerNrf);
  RadioButton(h1,v+=16,2,0,"Partijas",SerNrf);
  CheckBox(h1+200,v,0,"Nepras´t partijas Nr. POS r•úin‚",DonotRequireBatchNrOnIVCash);
  EditField(h,v=6,100,"Min. daudz",Normal,MinLevel,true,0);
  EditField(h,v+=vs,100,"Maks. daudz",Normal,MaxLevel,true,0);
  EditField(h,v+=vs  ,100,"Departaments",Normal,Department,false,DepSClass);
  EditField(h,v+=vs  ,100,"Plaukta Nr.",Normal,InvCode,false,0);
  EditField(h,v+=vs,100,"Info par art. izcelsmi",Normal,DefaultSource,false,SourceSClass);  
  EditField(h5,v ,50,"Vides nodoklis par kg",Normal,RepaPricePerWeight,true,0);
  EditField(h6=650,v ,80,"Noklus. pasðt´juma tips",Normal,DefOrderType,false,SetSClass);  
  if (StandardHansa==false) then begin
  EditField(h,v+=vs ,100,"Pies‚rÀ. l´menis",Normal,HazLevCode,false,HazLevSClass);
  EditField(h5,v ,50,"Alkohols %",Normal,AlcPrc,true,0);
    if (HasLocalization("PRT")) then begin
    EditField(h6,v, 80,"Nol. artikula tips",Normal,StockItemType,false,SetSClass);
    end;
  end;
  EditField(h,v+=vs ,100,"Vien´ba 2",Normal,Unittext2,false,UnitSClass);
  EditField(h5,v ,50,"Daudzums 1",Normal,Conversion1,true,0);
  EditField(h,v+=vs,100,"Koeficients",Normal,UnitCoefficient,true,0);
  EditField(h5,v ,50,"Daudzums 2",Normal,Conversion2,true,0);
  if (StandardHansa==true) then begin
    EditField(h,v+=vs ,50,"Artik. platums",Normal,Width,true,0);  
    EditField(h4,v ,50,"Augstums",Normal,Height,true,0);  
    EditField(h5,v ,50,"Biezums",Normal,Depth,true,0);  
    EditField(h,v+=vs ,50,"Artik. tilpums",Normal,Volume,true,0);  
    EditField(h4,v ,50,"Bl´vums",Normal,Density,true,0);  
    EditField(h5,v ,50,"Platums",Normal,Weight,true,0);  
  end;
  if (StandardHansa==false) then begin
  Tile(tilenr,170,false,tilenr,LocArea);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6) ,100,"Nokl. paletes artikuls",Normal,DefPalletItem,true,INSClass);
  EditField(h5,v ,80,"SaÀemäanas vieta",Normal,PickArea,false,LocAreaSClass);
  EditField(h,v+=vs ,100,"Nokl. atraä. vieta",Normal,LocArea,false,LocAreaSClass);
  EditField(h5,v ,50,"Paletes iekrauäanas vieta",Normal,PalletsInPickArea,true,0);
  EditField(h,v+=vs ,50,"Maks. daudz. uz paletes",Normal,QtyonPallet,true,0);
  EditField(h4,v ,50,"K‚rtas palet•",Normal,PalletLayers,true,0);
  EditField(h5,v ,50,"Daudz. k‚rt‚",Normal,QtyonPalletLayer,true,0);
  EditField(h,v+=vs ,50,"Paletes platums",Normal,PalletWidth,true,0);
  EditField(h4,v ,50,"Augstums",Normal,PalletHeight,true,0);
  EditField(h5,v ,50,"Biezums",Normal,PalletDepth,true,0);
  EditField(h,v+=vs ,50,"Nokl. poz´cijas platums",Normal,DefPosWidth,true,0);
  EditField(h4,v ,50,"Augstums",Normal,DefPosHeight,true,0);
  EditField(h5,v ,50,"Biezums",Normal,DefPosDepth,true,0);
  EditField(h,v+=vs ,50,"Artikula platums",Normal,Width,true,0);
  EditField(h4,v ,50,"Augstums",Normal,Height,true,0);
  EditField(h5,v ,50,"Biezums",Normal,Depth,true,0);
  EditField(h,v+=vs ,50,"Artikula tilpums",Normal,Volume,true,0);
  EditField(h4,v ,50,"Bl´vums",Normal,Density,true,0);
  EditField(h5,v ,50,"Neto svars",Normal,NetWeight,true,0);
  EditField(h5,v+=vs ,50,"Svars",Normal,Weight,true,0);
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
  Tile(tilenr,190,false,tilenr,InPrice);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),100,"Paäizmaksa",Normal,InPrice,true,0);
  if (StandardHansa==false) then begin
  EditField(h5,v,70,"Paäizm. izmaiÀas",ViewOnly,LastPriceChange,true,0);
  end else begin
    EditField(h3,v,70,"Paäizm. izmaiÀas",ViewOnly,LastPriceChange,true,0);  
  end;
  if (StandardHansa==false) then begin
  EditField(h,v+=vs ,100,"Paäizmaksa b‚zes 2",Normal,InPriceB2,true,0);
  ButtonFrame(h1,v+=24,200,4,"Paäizmaksa pie pre‹u saÀemäanas");
  end else begin
    ButtonFrame(h1,v+=40,210,4,"Atjaunot paäizm. pie pre‹u saÀemäanas");  
  end;
  RadioButton(h1,v,0,0,"Nemain´t",UpdateCost);
  RadioButton(h1,v+=16,1,0,"P•d.paäizm.(ar papildizm.)",UpdateCost);
  RadioButton(h1,v+=16,2,0,"Vid•j‚ sv•rt‚",UpdateCost);
  RadioButton(h1,v+=16,3,0,"P•d.paäizm.(bez papildizm.)",UpdateCost);
  ButtonFrame(h5=540,v=v-3*16,200,3,"Atjaunot paäizm. pie p‚rv•rt•äanas");
  RadioButton(h5,v,0,0,"N•",SRUpdateCost);
  RadioButton(h5,v+=16,1,0,"P•d•j‚ p‚rv•rt•äanas cena",SRUpdateCost);
  RadioButton(h5,v+=16,2,0,"Vid•j‚ sv•rt‚",SRUpdateCost);
  if (StandardHansa==false) then begin
  EditField(h,v=vm+2*vs,100,"Papildizm.",Normal,ExtraCost,true,0);
  end else begin
    EditField(h,v=vm+vs,100,"Papildizm.",Normal,ExtraCost,true,0);  
  end;
  EditField(h,v+=vs ,100,"Vid•j‚ sv•rt‚",Normal,WeighedAvPrice,true,0);
  if (StandardHansa==false) then begin
  EditField(h,v+=vs ,100,"Vid•j‚ sv•rt‚ b‚zes 2",Normal,WeighedAvPriceB2,true,0);
  end;
  EditField(h,v+=vs ,100,"P•d.paäizm.(ar papildizm.)",Normal,LastPurchPrice,true,0);
  EditField(h,v+=vs ,100,"P•d.paäizm.(bez papildizm)",Normal,LastPurchPrice2,true,0);
  EditField(h,v+=vs ,100,"P•d•j‚ pirkuma valðta",Normal,LastPurchCurncyCode,false,CurncyCodeSClass);
  EditField(h,v+=vs ,100,"Pieg‚de",Normal,FixedFreight,true,0);
  CheckBox(h1,v,0,"Iekºaut artikula pieg‚des izmaksas",InclItemFreight);
  CheckBox(h5,v,0,"Ir akc´ze",HasExcise);    
  end;
  Tile(tilenr,170,false,tilenr,Recepy);  tilenr = tilenr + 1;
  EditField(h,v=6 ,120,"Specifik‚cija",Normal,Recepy,false,RecSClass);
  CheckBox(h1,v,0,"Ievietot sast‚vdaºas ievadot",ExplodeRec); // "Show components on documents" is better English but VERY confusing
  EditField(h,v+=vs ,120,"R•úina specifik‚cija",Normal,InvRecepy,false,RecSClass);
  EditField(h2,v,150,"Sv´tru kods",Normal,BarCode,false,0);
  EditField(h,v+=vs ,120,"L´guma artikuls",Normal,ContractItem,false,INSClass);
  EditField(h2,v,150,"EAN kods",Normal,EUCodex,false,CommoditySClass);
  v = v + vs;
  if (StandardHansa==false) then begin
    EditField(h,v,120,"Nomas r•úini",Normal,RentalItem,false,INSClass);  
  end;
  EditField(h2,v,150,"EKN kods",Normal,EKNCode,false,0); // i think it is same as Commodity Code
  if (StandardHansa==false) then begin
  EditField(h2,v+=vs,150,"Pre‹u un pakalpojumu klasifik‚cija",Normal,CPSCode,false,0);
  end;
  EditField(h,v+=vs ,120,"Garantijas m•neäi",Normal,WarrantyLength,true,0);
  EditField(h2,v,150,"Kr‚sa",Normal,colnr,false,SetSClass);
  EditField(h,v+=vs,120,"K‚rt. kods",Normal,SortCode,true,0); 
  EditField(h,v+=vs,-40,"Alternat´vais kods",Normal,AlternativeCode,false,0);
  EditField(h,v+=vs,-40,"Br´din‚jums",Normal,WarnText1,false,0);
  Tile(tilenr,170,false,tilenr,SalesAcc);  tilenr = tilenr + 1;
  v = 6;
  vm = v;
  EditField(h,vm,55,"Realiz‚c. konts",Normal,SalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,VATZoneNameLAT & "Realiz. konts",Normal,EUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,"Eksporta realiz.",Normal,ExpSalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
  EditField(h,v+=vs,55,"Serv. realiz. konts",Normal,SVOInvbleSalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Warranty Sales A/C",Normal,SVOWarrantySalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Contract Sales A/C",Normal,SVOContractSalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Goodwill Sales A/C",Normal,SVOGoodwillSalesAcc,false,AccSClass);
  end;
  EditField(h,v+=vs,55,"Komponentes",Normal,CompUsage,false,AccSClass);
  EditField(h,v+=vs,55,"Projekta mater. izm. konts",Normal,ProjMaterialsUsageAcc,false,AccSClass);  
  
  EditField(h2=360,v=vm,55,"Viet. izm. konts",Normal,CostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,VATZoneNameLAT & "Izm. konts",Normal,EUCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,"Eksporta izm. konts",Normal,ExpCostAcc,false,AccSClass);
  if (StandardHansa==false) then begin
  EditField(h2,v+=vs,55,"Serv. izm. konts",Normal,SVOInvbleCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,"Serv. garantijas izm. konts",Normal,SVOWarrantyCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,"Serv. l´guma izm. konts",Normal,SVOContractCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,"Nemat. v•rt. izm. konts",Normal,SVOGoodwillCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,"Viesn. nepab. raì. konts",Normal,HotelWIPAcc,false,AccSClass);
  end;
  EditField(h2=540,v=vm,20,"Viet. PVN kods",Normal,VATCode,false,VATCodeSClass);
  EditField(h2,v+=vs,20,VATZoneEditFieldLabel_LAT(1) & "Nod. veidne",Normal,VATCodeEU,false,VATCodeSClass);
  EditField(h2,v+=vs,20,"rpus ES PVN kods",Normal,VATCodeExp,false,VATCodeSClass);
  if (HasExtTax) then begin
  CheckBox(h2,v+=20,0,"Apr•úin‚t ien‚kuma nodokli",Perceptions);
  end;
  if (StandardHansa==false) then begin
    if (HasWithholdingTax) then begin
  CheckBox(h2,v+=16,0,"Apr•úin‚t ietur•tos nodokºus",Withholdings);
    end;
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
  EditField(h2=670,v=vm,50,"Viet. nod. veidne",Normal,TaxTemplateCode,false,TaxTemplateSClass);
      EditField(h2,v+=vs,50,VATZoneEditFieldLabel_LAT(1) & "Nod. veidne",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass);
  EditField(h2,v+=vs,50,"rpus ES nod.veidne",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass);
    end;
    v = vm; h2=680;
    if (HasLocalization("GBR,LTU,POL,LVA")) then begin
      EditField(h2,v,20,"Reversais #PVN# kods",Normal,RvrsVATCode,false,VATCodeSClass); v = v + vs;
    end;
    if (HasLocalization("SWE")) then begin
      EditField(h2,v,20,"µ´misk‚ nodokºa kods",Normal,ChemicalTaxCode,false,ChemicalTaxCodeSClass); v = v + vs; 
    end;
  end;
  if (GuiType==kGuiiPhone or GuiType==kGuiAndroid) then begin
    Tile(tilenr,70,false,tilenr,-);  tilenr = tilenr + 1;
    AttachmentDisplay(10,10,200,200);
//    PushButton(30,10,-80,40,ToolImagePicker,"Take picture");
//    ControlLabel(0,0,0,0,"Take picture","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  end;
  Tile(tilenr,70,false,tilenr,VARMask);  tilenr = tilenr + 1;
  EditField(h,v=6,-40,"Vari‚ciju äablons",Normal,VARMask,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"Sec´ba atskait•s",Normal,VARRepOrder,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"Apakäkomplekts",Normal,VARSubsets,false,VARSubsetsSClass);
  Tile(tilenr,120,true,tilenr,Math);  tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-32,-40,-,99);
  MatCol(1,24,"Valoda",0,LangCode,false,LangSClass);
  MatCol(1,94,"Teksts",0,Text,false,0);
  EndMatrix;
  Tile(tilenr,220,false,tilenr,CostPerc);  tilenr = tilenr + 1;
  ButtonFrame(h=100,vm=(v=20),230,6,"Prim‚rais izmaksu modelis");
  RadioButton(h,v,0,0,"Noklus•juma",PrimaryCostModel);
  RadioButton(h,v+=16,1,0,"Paäizmaksa",PrimaryCostModel);
  RadioButton(h,v+=16,2,0,"% _no cenas",PrimaryCostModel);
  EditField(h+150,v,55,"%",Normal,CostPerc,true,0);
  RadioButton(h,v+=16,3,0,"Vid•j‚ sv•rt‚",PrimaryCostModel);
  RadioButton(h,v+=16,4,0,"Rindas",PrimaryCostModel);
  RadioButton(h,v+=16,kCostModelNoneItem,0,"Nek‚ds",PrimaryCostModel);
  ButtonFrame(h,v+=40,230,3,"Rindas izmaksu modelis");
  RadioButton(h,v,0,0,"Noklus•juma",QueuedCostModel);
  RadioButton(h,v+=16,1,0,"F_IFO cena",QueuedCostModel);
  RadioButton(h,v+=16,2,0,"LIFO cena",QueuedCostModel);  
  
  ButtonFrame(h2=380,v=vm,200,3,"Paäizmaksa pa s•riju numuriem");
  RadioButton(h2,v,0,0,"Noklus•juma",FIFOPerSerialNr);
  RadioButton(h2,v+=16,1,0,"Paäizmaksa neizmantojot S•r. Nr.",FIFOPerSerialNr);
  RadioButton(h2,v+=16,2,0,"Paäizmaksa pa s•riju numuriem",FIFOPerSerialNr);  
  ButtonFrame(h2,v+=40,200,3,"Rindas izmaksu modelis pa nolikt.");
  RadioButton(h2,v,0,0,"Noklus•juma",FIFOPerLocation);
  RadioButton(h2,v+=16,1,0,"Sekund‚r‚ paäizm.bez noliktav‚m",FIFOPerLocation);
  RadioButton(h2,v+=16,2,0,"Sekund‚r‚ paäizm.pa noliktav‚m",FIFOPerLocation);  
  ButtonFrame(h2,v+=40,200,3,"Vid. sv•rt‚ pa noliktav‚m");
  RadioButton(h2,v,0,0,"Noklus•juma",WAPerLocation);
  RadioButton(h2,v+=16,1,0,"Vid. sv•rt‚ bez noliktav‚m",WAPerLocation);
  RadioButton(h2,v+=16,2,0,"Vid. sv•rt‚ pa noliktav‚m",WAPerLocation);  
/*5.3  
  ButtonFrame(h2,v+=40,200,3,"Paäizmaksa pa noliktav‚m");
  RadioButton(h2,v,0,0,"Noklus•juma",CostPricePerLocation);
  RadioButton(h2,v+=16,1,0,"Paäizmaksa neatkar´gi no nol.",CostPricePerLocation);
  RadioButton(h2,v+=16,2,0,"Paäizmaksa pa noliktav‚m",CostPricePerLocation);  
*/  
  if (StandardHansa==false) then begin
    Tile(tilenr,240,false,tilenr,-); tilenr = tilenr + 1;
  h = 180; v = 6;
  label = UserDefined("INVc","UserStr1");
  if (nonblank(label)) then begin
    EditField(h,v=6 ,-40,label,Normal,UserStr1,false,0);
  end;
  label = UserDefined("INVc","UserStr2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-40,label,Normal,UserStr2,false,0);
  end;
  label = UserDefined("INVc","UserStr3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-40,label,Normal,UserStr3,false,0);
  end;
  label = UserDefined("INVc","UserStr4");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-40,label,Normal,UserStr4,false,0);
  end;
  label = UserDefined("INVc","UserStr5");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-40,label,Normal,UserStr5,false,0);
  end;
  label = UserDefined("INVc","UserVal1");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal1,true,0);
  end;
  label = UserDefined("INVc","UserVal2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal2,true,0);
  end;
  label = UserDefined("INVc","UserVal3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal3,true,0);
  end;
  label = UserDefined("INVc","UserDate1");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate1,true,PasteCurDate);
  end;
  label = UserDefined("INVc","UserDate2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate2,true,PasteCurDate);
  end;
  label = UserDefined("INVc","UserDate3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate3,true,PasteCurDate);
  end;
  end;
  Tile(tilenr,400,false,tilenr,Math2); tilenr = tilenr + 1;
  StaticText(50,v=20,"Piez´mes",true);  
  TextField(60,v-5,-20,370,Math2,0);
  if (HasCharts) then begin
    Tile(tilenr,400,false,tilenr,-); tilenr = tilenr + 1;
    ChartArea(10,6,-10,390,"$INDCLass_BIChart");  
  end;
  Tile(tilenr,400,false,tilenr,ShopifyID); tilenr = tilenr + 1;// Edit ************************** BPI Ukraine - KramarAlexandr - Thursday, 3 May 2018 17:40:16
  	EditField(h,v=20,120,"Shopify ID",Normal,ShopifyID,false,0);
  if (UserCanReport("INInfoRn","",true)) then begin 
  SpecialMenu("Artikula statusa atskaite",'I',0,"INStatusINDsm");
  end;
//  SpecMenuItem("Recalculate Price List",' ',2);
  if (UserCanReport("INrsRn","INrsRClass",true)) then begin 
    SpecialMenu("Artikula v•sture",'h',3,"INrsRn_INSm");//CMD H DOES HIDE HANSA
  end;
  SpecialMenu("Artikula novietojuma statuss",' ',4,"LocItemStatDsm");
  if (HasJewelleryInterface) and (UserCanReport("INInfoRn","",true)) then begin 
    SpecialMenu("Artikula statuss pa alternat´vajiem kodiem",'S',5,"ItemStatusAltINDsm");
  end;
  SpecialMenu("Update Shopify Stock",' ',2,"DOLUpdItemStockDsm");// Edit ************************** BPI Ukraine - KramarAlexandr - Friday, 11 May 2018 15:14:26

  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  SpecialMenu("Pasðt´juma artikulu",' ',1,"PIFromINDsm");
  SpecialMenu("Specifik‚ciju",' ',2,"RecFromINDsm");
  EndWindow;
end;

window PUDClass:1
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  string 255 label;
  record CYBlock CYb;
  Integer tilenr;
  Integer f,flipnr,rn;

  BlockLoad(CYb);
  WindowBegin("SaÀemt‚s preces",PUDClass,CGview,-);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,870,620);
  end else begin
    SetWRect(20,80,750,620);
  end;
  if (HasMultiCurrency or IsEnterprise or HasObjects) then begin
  Sizeable(-1,-1,0,0);
  end;
  UseView(PUVc);
  ActiveFieldOnNew("VECode");      
  FormName(PurchaseForm);
  Tile(0,74,false,"",TransDate);
  EditField(75,vm=(v=6),95,"Nr.",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"Pieg‚d‚t‚js",Normal,VECode,false,VESClass);
  EnterSkip(TransDate);
  EditField(h=255,v=vm,-40,"Nosaukums",Normal,VEName,false,0);
  CheckBox(h4=-100,v+=20,0,"Gr‚matot",OKFlag);
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  CheckBox(h4,v+=16,0,"Cena ar PVN",InclVAT);
  end else begin
    CheckBox(h4,v+=16,0,"Cena ar PVN",InclVAT);  
  end;
  tilenr = 1;
  TileButton(tilenr,"Nosac."); tilenr = tilenr + 1;
  TileButton(tilenr,"Artikuli"); tilenr = tilenr + 1;
  if (HasMultiCurrency) then begin
    TileButton(tilenr,"Valðta"); tilenr = tilenr + 1;
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
    TileButton(tilenr,"Papildu izm."); tilenr = tilenr + 1;
    TileButton(tilenr,"Transp."); tilenr = tilenr + 1;
    end;
    TileButton(tilenr,"Koment‚rs"); tilenr = tilenr + 1;
  end;
  tilenr = 1;

  vs = 20; h1 = 110; h2 = 300; h3 = 550; h4 = -100;
  Tile(tilenr,70,false,tilenr,TransDate); tilenr = tilenr + 1;
  EditField(h1,vm=(v=6),82,"Gr‚mat. datums",Normal,TransDate,false,PasteCurDate);
  if (IsEnterprise==false) then begin
    EditField(h2,v,-20,"Koment‚rs",Normal,Comment,false,0);  
  end;
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"Noliktava",Normal,Location,false,LocationSClass);  
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"Maräruts",ViewOnly,Sorting,false,0);  
  end;
  v = v + vs;
  // Need a cleaner way to skip to next visible field
  if (HasObjects) then begin  
    EnterSkip(Objects);
  end else begin
    if (HasModPO) then begin 
      EnterSkip(PONr);
    end else begin
      if (IsEnterprise) then begin
        if (StandardHansa==false) then begin
          EnterSkip(POCOSerNr);
        end else begin
          EnterSkip(PUClass);
        end;
      end else begin
        if (HasLanguages) then begin
          EnterSkip(LangCode);
        end else begin
          if (IsEnterprise) then begin
            EnterSkip(CustomsNr);
          end else begin        
            if (HasLocalization("ARG,MEX,USA")) then begin
              EnterSkip(DispatchNumber);
            end else begin
              EnterSkip(Math);
            end;
          end;
        end; 
      end;
    end;  
  end;
  SoftEditField(h1,v,82,"Sv´trkods",Normal,"scanbarcode",false,0,M4Str,60);  
  if (HasObjects) then begin
    if (IsEnterprise) then begin
  EditField(h2,v=vm,135,"Objekts",Normal,Objects,false,ObjSClass);
    end else begin
      if (HasMultiLocations) then begin
        EditField(h2,v,135,"Objekts",Normal,Objects,false,ObjSClass);  
      end else begin
        v = v + vs;
        EditField(h2,v,135,"Objekts",Normal,Objects,false,ObjSClass);  
      end;
    end;
  end;
  if (HasModPO) then begin
    if (HasObjects) then begin
      v = v + vs;
    end;
    EditField(h2,v,135,"Pasðt´jums Nr.",ViewOnly,PONr,false,0);  
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      v = v + vs;
      EditField(h2,v,135,"Pasðt´juma l´gums",ViewOnly,POCOSerNr,true,POCOSClass);  
    end;
  EditField(h3,v=vm,80,"Pasðt´juma klase",ViewOnly,PUClass,false,0);
  end;
  if (HasLanguages) then begin
    v = v + vs;
    EditField(h3,v,80,"Valoda",Normal,LangCode,false,LangSClass);  
  end;
  if (IsEnterprise) then begin
    v = v + vs;
    EditField(h3,v,80,"Muitas Nr.",Normal,CustomsNr,false,0);  
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin  
    v = v + vs;
    EditField(h3,v,80,"Dispatch Number",Normal,DispatchNumber,false,0);   //!!SAMETRANSLATION
  end;
//  CheckBox(h4,v=vm,0,"Price Incl. PVN",InclVAT);
  EnterSkip(Math);
  Tile(tilenr,220,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  if (HasSerialNumbers or HasLocalization("ARG,MEX,USA") or HasJewelleryInterface) then begin
    MatrixBegin(4,v,-50,-50,-,200);
  end else begin
    MatrixBegin(4,v,-25,-50,-,200);
  end;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(1,28,"Artikuls",0,ArtCode,false,INSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
  MatCol(1,124,"Daudz.",0,Quant,true,MATVARINSClass);// Edit ************************** BPI Ukraine - KramarAlexandr - Wednesday, 16 May 2018 16:36:01
  end else begin
    MatCol(1,124,"Daudz.",0,Quant,true,0);  // Edit ************************** BPI Ukraine - KramarAlexandr - Wednesday, 16 May 2018 16:36:02
  end;
  EnterSkip(Spec);
  MatText(t=3,28,"Paraksts",true);
  MatCol(t,100,"",0,Sign,false,0);
  MatText(t,160,"Korekcija",true);
  MatCol(t,290,"Labojums",0,UpdDate,false,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasJewelleryInterface) then begin
    MatColTL(1,144,"Vien´ba",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass); 
    MatCol(1,184,"Apraksts",0,Spec,false,0); 
    MatCol(1,-485,"Noliktava",0,Location,false,LocationSClass); 
    MatCol(1,-430,"S•rijas Nr..",0,SerialNr,false,SerialNrSClass); 
    MatCol(1,-320,"Noliktavas tips",0,StockType,false,SetSClass); 
  end else begin
  MatColTL(1,164,"Vien´ba",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass);
  MatCol(1,204,"Nosaukums",0,Spec,false,0);
  end;
  MatCol(1,-240,"Cena",0,UPrice,true,0);
  MatCol(1,-160,"Iepirk. cena",0,CostPrice,true,0);
  MatCol(1,-80,"Summa",0,Sum,true,0);
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Nosaukums",0,Spec,false,0);
  MatCol(1,-350,"Noliktava",0,Location,false,LocationSClass);
  MatCol(1,-280,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-150,"Der´gs l´dz",0,BestBefore,false,0);
  MatCol(1,-60,"Part.stat.",0,BatchStatus,false,BatchStatusSClass);
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Nosaukums",0,Spec,false,0);
  MatColTL(1,-404,"Cena",0,-1,ViewOnly,-1,InPrice,false,0);
    if (StandardHansa==false) then begin
  MatColTL(1,-324,"Cenu neatb.",0,-1,ViewOnly,-1,VarianceAmount,false,0);
  MatCol(1,-244,"Iepirk. cena",0,UPrice,true,0);
  MatCol(1,-174,"Papildu izm.",0,Extra,true,0);  
  MatCol(1,-104,"Paäizm.",0,CostPrice,true,0);
    end else begin
      MatCol(1,-324,"Nosðt. izm.",0,ShipCost,true,0);  
      MatCol(1,-244,"Papildu izm.",0,Extra,true,0);  
      MatCol(1,-164,"Muitas izm.",0,CustomsCost,true,0);  
    end;
  if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
  MatCol(1,-34,"Nod.v.",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
  MatCol(1,-34,"PVNkd",0,VATCode,false,VATCodeSClass);
  end;
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Nosaukums",0,Spec,false,0);
  MatCol(1,-350,"Pieg. artik. Nr.",0,VEItemCode,false,PISClass);
  MatColTL(1,-270,"P. vien.",0,M4Code,ViewOnly,5,VEUnit,false,UnitSCLass);
  MatCol(1,-200,"P. daudz.",0,VEQuant,true,0);
    if (StandardHansa==false) then begin
  MatCol(1,-140,"Koef.",0,Coefficient,true,0);
    end;
  MatCol(1,-90,"Pamatcena",0,BasePrice,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Nosaukums",0,Spec,false,0);
    if (StandardHansa==false) then begin
  MatCol(1,-400,"Nol. tips",0,StockType,false,SetSClass);
    end;
    if (HasTREO) then begin
  MatCol(1,-310,"TREO",0,TREO,false,SetSClass); //!!SAMETRANSLATION
    end;
  MatCol(1,-220,"Nol. konts",0,CostAcc,false,AccSClass);
  MatCol(1,-155,"Kred. konts",0,CredAcc,false,AccSClass);
  MatCol(1,-90,"Objekti",0,Objects,false,ObjSClass);
    if (StandardHansa==false) then begin
    Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"Muitas Nr.",0,CustomsNr,false,0);  
      MatCol(1,-340,"Muitas dat.",0,CustomsDate,false,PasteCurDate);  
  MatCol(1,-240,"Valsts",0,CountryOfOrg,false,CountrySClass);
  MatCol(1,-140,"Vieta",0,PosCode,false,PosSClass);
  MatCol(1,-70,"Uz vietu",0,ToPosCode,false,FreePosSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Nosaukums",0,Spec,false,0);
  MatCol(1,-250,"S•rijas Nr",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-135,"Plat.",0,UnitXval,true,0);
  MatCol(1,-90,"Augst.",0,UnitYval,true,0);
  MatCol(1,-45,"Biez.",0,UnitZval,true,0);
    if (StandardHansa==false) then begin
  Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"Papildizm.",0,Extra,true,0);  
  MatCol(1,-420,"Pieg.",0,ShipCost,true,0);
  MatCol(1,-360,"Muita",0,CustomsCost,true,0);
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Izm. 1";end;
  MatCol(1,-300,label,0,RowCost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Izm. 2";end;
  MatCol(1,-240,label,0,RowCost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Izm. 3";end;
  MatCol(1,-180,label,0,RowCost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Izm. 4";end;
  MatCol(1,-120,label,0,RowCost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Izm. 5";end;
  MatCol(1,-60,label,0,RowCost5,false,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,144,"Pas. Nr.",0,PONr,false,POSClass);
  MatCol(1,194,"Pas. Rnd.",0,OrdRow,false,0);
  MatCol(1,-370,"Pas. sask.",0,PORecon,false,0);
  MatCol(1,-310,"Koment‚rs",0,POReconComment,false,0);
  MatCol(1,-200,"R•ú.sask.",0,VIRecon,false,0);
  MatCol(1,-130,"Koment‚rs",0,VIReconComment,false,0);
  end else begin
    if (HasSerialNumbers) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"Apraksts",0,Spec,false,0);  
      MatCol(1,-150,"S•rijas Nr.",0,SerialNr,false,SerialNrSClass);  
    end;
/*
    MatCol(1,-280,"Vien´bas cena",0,UPrice,true,0);
    MatCol(1,-210,"Transport.",0,ShipCost,true,0);
    MatCol(1,-140,"Papildu",0,Extra,true,0);
    MatCol(1,-70,"Paäizmaksa",0,CostPrice,true,0);
*/
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin  
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"Apraksts",0,Spec,false,0);  
    MatCol(t,-250,"Dispatch Number",0,DispatchNumber,false,0);   //!!SAMETRANSLATION
  end;
  if (HasJewelleryInterface) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"Apraksts",0,Spec,false,0); 
    MatCol(t,-350,"Pieg. s•r. Nr.",0,SuppSerialNr,true,0); 
    MatCol(t,-200,"Met‚ls",0,Metal,true,0); 
    MatCol(t,-150,"Svars",0,RowWeight,true,0); 
    MatCol(t,-100,"Izm•rs",0,Size,true,0); 
    MatCol(t,-50,"Garums",0,Length,true,0); 
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"Apraksts",0,Spec,false,0); 
    MatCol(t,-350,"Pamatakmens",0,MajStoneDet,true,0); 
    MatCol(t,-250,"Kr‚sa",0,Colour,true,0); 
    MatCol(t,-200,"T´r´ba",0,Clarity,true,0); 
    MatCol(t,-150,"Sertif.",0,Cert,true,0); 
    MatCol(t,-100,"Papildu akmens",0,MinStoneDet,true,0); 
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"Apraksts",0,Spec,false,0); 
    MatCol(t,-400,"PulksteÀa z´mols",0,WatchBrand,true,0); 
    MatCol(t,-300,"Stila nosaukums",0,StyleName,true,0); 
    MatCol(t,-200,"PulksteÀa met‚ls",0,WatchMetal,true,0); 
    MatCol(t,-100,"Izplat´ba",0,Movement,true,0); 
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"Apraksts",0,Spec,false,0); 
    MatCol(t,-400,"Spr‚dze",0,BrcStr,true,0); 
    MatCol(t,-300,"Dzimuma",0,Gender,true,0); 
    MatCol(t,-200,"Cits",0,Other,true,0); 
    MatCol(t,-100,"Cits 2",0,Other2,true,0); 
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin(""); 
  if (StandardHansa==false) then begin
    if (HasSerialNumbers) then begin
      RowMenuItem(0,"Atv•rt partijas specifik‚ciju",' ',' ',0,"OpenBatchPUDsm"); 
    end;
    RowMenuItem(0,"Sadal´t‚jrinda",' ',' ',0,"SplitRowPUDsm"); 
    if (HasQualityControl) then begin
      RowMenuItem(0,"Quality Control",' ',' ',10,"QualConFromPUDsm"); //!!TRANSLATE
    end;
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
//  v = 18;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1)); //!!SAMETRANSLATION
      v = v + vs;
    end;
  end;
  EditField(110,-41,70,"Daudz.",ViewOnly,SumQuant,true,0);
//  EditField(110,-21,70,"Price Subtotal",Normal,SubTotal,true,0); //Shows the same as SumCostPrice?
  EditField(260,-41,70,"Pieg‚de",Normal,ShipCost,true,0);
  if (IsEnterprise) then begin
  EditField(260,-21,70,"Muita",Normal,CustomsCost,true,0);
  end;
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  EditField(410,-41,70,"PVN",Normal,VATVal,true,0);
  if (HasExtTax) then begin
  EditField(410,-21,70,"Atsk. nod.",ViewOnly,TAX1Sum,true,0);
    end;
  end else begin
    EditField(410,-41,70,"Nod.",Normal,VATVal,true,0);  
  end;
  EditField(-169,-41,118,"Summa",ViewOnly,SumCostPrice,true,0);
  EditField(-169,-21,118,"KOP",ViewOnly,PayVal,true,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
  vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
  EditField(h1,v=6,50,"Valðta",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
    if (HasBase2) then begin
        EditField(h1,v+vs,50,"B‚zes valðta 1",Normal,BaseRate1,true,0);
    end else begin
        EditField(h1,v+vs,50,"B‚zes valðta",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,"B‚zes valðta 2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"Kurss",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"B‚zes valðta 1",false);   //!!SAMETRANSLATION
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"B‚zes valðta 2",false);             //!!SAMETRANSLATION
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"B‚zes valðta",false);       //!!SAMETRANSLATION
      end;
    end else begin
      EditField(h1,v+=vs,50,"B‚zes valðta 1",Normal,BaseRate1,true,0);  
      EditField(h1,v+=vs,50,"B‚zes valðta 2",Normal,BaseRate2,true,0);  
    end;
  end;
  if (IsEnterprise and StandardHansa==false) then begin
    Tile(tilenr,120,false,tilenr,Cost1); tilenr = tilenr + 1;
  vs = 20;
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Papildizm. 1";end;
  EditField(h=110,v=6,70,label,Normal,Cost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Papildizm. 2";end;
  EditField(h2=295,v,70,label,Normal,Cost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Papildizm. 3";end;
  EditField(h,v+=vs,70,label,Normal,Cost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Papildizm. 4";end;
  EditField(h2,v,70,label,Normal,Cost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Papildizm. 5";end;
  EditField(h,v+=vs,70,label,Normal,Cost5,false,0);
    if (HasApprovals) then begin
      SoftEditField(h2,v,123,"Apstipr. statuss",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255); 
    end;
  ButtonFrame(h3=400,v=16,130,2,"Papildus izmaksu apr•úins");
  RadioButton(h3,v,0,0,"Cen‚",ExtraCostsCalculation);
  RadioButton(h3,v+=16,1,0,"Svar‚",ExtraCostsCalculation);
/*
//oldapprovals  
  ButtonFrame(h3=-163,v=16,123,6,"Apstiprin‚juma statuss");
  RadioButton(h3,v,kAcceptanceStateNotRequired,0,"Nav nepiecieäams",AcceptanceStatus);
  RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0,"Nav s‚kts",AcceptanceStatus);
  RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0,"Nav pras´ts",AcceptanceStatus);
  RadioButton(h3,v+=16,kAcceptanceStatePending,0,"Proces‚",AcceptanceStatus);
  RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"Apstiprin‚ts",AcceptanceStatus);
  RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"Noraid´ts",AcceptanceStatus);  
*/    
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
  EditField(h1,v=6,80,"Transporta komp.",Normal,FreightCode,false,FreightCompanySClass);
  EditField(h1,v+=vs,-20,"Nosaukums",Normal,FreightCompany,false,0);
  EditField(h1,v+=vs,-20,"Re®. Nr.",Normal,FreightCompanyRegNr,false,0);
  EditField(h1,v+=vs,-20,"A/M inform‚cija",Normal,TruckInfo,false,0);
  EditField(h1,v+=vs,-20,"Vad´t‚js",Normal,Driver,false,0);
  EditField(h1,v+=vs,-20,"CMR",Normal,CMRText,false,0); // International transporting number //!!SAMETRANSLATION
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,"Koment‚rs",Normal,Comment,false,0);  
  end;
  if (StandardHansa==true) then begin
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,"Koment‚rs",Normal,Comment,false,0);  
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu("SaÀemt‚s preces statuss",'r',4,"PUStatusDsm");  
    SpecialMenu("Veidot s•r. Nr.",' ',2,"GenSerialNosPUDsm");  
    if (HasIntegratedNL) then begin
      SpecialMenu("Atv•rt gr‚matojumu",'t',4,"OpenTRFromPU");  
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
    if (HasModPL) then begin
      SpecialMenu("Ien‚koäo r•úinu",'F',3,"VIFromPUDsm");  
    end;
    if (HasRetGoodsToSupp and HasModIN) then begin
      SpecialMenu("Atgriezt preci",'B',7,"RetPUFromPUDsm");  
    end;
  end else begin
  if (IsEnterprise) then begin
  SpecialMenu("Mekl•t artikulu",'f',1,"ItemSearchDsm");
  SpecialMenu("SaÀemt‚s preces statuss",'r',4,"PUStatusDsm");
  end;
  if (HasSerialNumbers) then begin
  SpecialMenu("Veidot s•r. Nr.",' ',2,"GenSerialNosPUDsm");
  end;
    if (HasIntegratedNL) then begin
  SpecialMenu("Atv•rt gr‚matojumu",'t',4,"OpenTRFromPU");
  end;
  if (HasTaxMatrix) then begin
  SpecialMenu("Atv•rt nod. matricu",' ',25,"OpenVatMatrixPUDsm"); 
  end;
  SpecialMenu("Druk‚t uzl´mes",'e',0,"PrintPULabPUDsm");
  SpecialMenu("Atjaunot cenas",' ',1,"UpdatePricesPUDsm");
 
  if (HasModWHM) then begin
    SpecialMenu("Apstiprin‚t noliktavas kust´bu",' ',9,"OKStockMovPUrDsm"); 
  end;
  if (HasLocalization("HRV")) then begin 
    SpecialMenu("P‚rdoäanas cenas apr•úins",' ',8,"SPCHRVPUDsm"); 
  end;
  if (HasApprovals) then begin
    SpecialMenu("Nosðt´t apstiprin‚äanai",' ',6,"PUSendforAcceptancePUDsm");
    SpecialMenu("Atcelt apstiprin‚äanas piepras´jumu",' ',2,"CancelApprovalRequestDsm");
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  if (HasModPL) then begin
  SpecialMenu("Ien‚koäo r•úinu",'F',3,"VIFromPUDsm");
  end;
    if (HasAdvancedStock or (HasRetGoodsToSupp and HasModIN)) then begin
  SpecialMenu("Atgriezt preci",'B',7,"RetPUFromPUDsm");
  end;
  if (HasModRent) then begin
//  SpecialMenu("Create Stock Movement",' ',5,"StockMovFromPUSpec");
//  SpecialMenu("Scan",' ',8,"ScanBarCodePUDsm");
  SpecialMenu("Noliktavas p‚rvietoäanas",' ',8,"INTransFromPUsm");
  end;
    SpecialMenu("Pieg‚d‚t‚ju",' ',0,"AddSupplierPUDsm"); 
    SpecialMenu("Artikulu",' ',0,"AddItemPUDsm");     
  end;
  EndWindow;
end;

window CCatDClass:2
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vs;
  WindowBegin("Klientu kategorija",CCatDClass,CGview,-);
  SetWRect(64,80,600,330);
  UseView(CCatVc);
  v = 6; vs = 20; h = 100;
  if (IsEnterprise) then begin
  Tile(0,90,false,"",Code);
  EditField(h,v, 70,"Kods",Normal,Code,false,0);
  EditField(h,v+=vs,-40,"Nosaukums",Normal,Comment,false,0);
    if (StandardHansa==false) then begin
  EditField(h,v+=vs,-40,"Klasif.tipi",Normal,ClassType,false,CTypeSClass);
    end;
  TileButton(1,"Cenu veidoäana");
  TileButton(2,"Konti");
    if (StandardHansa==false) then begin
  TileButton(3,"Web"); 
    end;
    if (HasCharts) then begin
      TileButton(4,"BI");   
    end;
  Tile(1,110,false,"1",PLCode);  
  v = 6; h = 200;
  EditField(h,v ,70, "Cenu lapa",Normal,PLCode,false,PLDefSClass);
  if (HasAdvancedPricing) then begin
  EditField(h,v+=vs ,70, "Atlaiìu matrica",Normal,RebCode,false,RebSClass);
  end;
  EditField(h,v+=vs ,55, "Priekäapm. procenti",Normal,DownPayPerc,false,0);
  if (HasItemClassification) then begin
  EditField(h,v+=vs ,55, "Galveno artikulu klasifik‚cija",Normal,MainDispGroup,false,DISClass);
  end;
    if (StandardHansa==false) then begin
  EditField(h,v+=vs ,55, "Interneta pasðt´jumu veids",Normal,WebOrderClass,false,OrderClassSClass);
    end;
  EditField(h,v+=vs ,150, "Objekti",Normal,BPIObjects,false,ObjSClass);// Edit ************************** BPI Ukraine - KramarAlexandr - Wednesday, 6 June 2018 11:46:29

//##  EditField(h,v+=vs ,70, "Commission Matrix",Normal,ComCode,false,ComSClass);
  Tile(2,130,false,"2",ARAcc);  
  v = 6; h = 200;
  EditField(h,v ,55, "Debitoru konts",Normal,ARAcc,false,AccSClass);
  EditField(h,v+=vs ,55, "áaub´go debitoru konts",Normal,BadARAcc,false,AccSClass);
  EditField(h,v+=vs ,55, "Deb. priekäapm. konts",Normal,OnAccAcc,false,AccSClass);
  EditField(h,v+=vs ,55, "Kred. konts",Normal,AccAP,false,AccSClass);
  EditField(h,v+=vs ,55, "Kred. priekäapm. konts",Normal,OnAccAccAP,false,AccSClass);
  EditField(h,v+=vs ,55, "áaub´gie debitori",Normal,RetainAcc,false,AccSClass);
    if (StandardHansa==false) then begin
  Tile(3,50,false,"3",WebDisplays);
  v = 6;
  EditField(h,v,55,"Att•lojums t´mekl´",Normal,WebDisplays,false,WebDisplaySClass);
      EditField(h,v+=vs,55,"T´mekºa objekta tips",Normal,WebOTCode,false,OTSClass); 
    end;
    if (HasCharts) then begin
      Tile(4,400,false,"4",-);  
      ChartArea(10,6,-10,390,"$CCATDCLass_BIChart");  
    end;
  end else begin
  SetWRect(64,80,509,200);
  UseView(CCatVc);
    v = 10; vs = 20; h = 130; h2 = 320;
  EditField(h,v, 70,"Kods",Normal,Code,false,0);
  EditField(h,v+=vs ,-40,"Nosaukums",Normal,Comment,false,0);
    if (HasContactClassification) then begin
  EditField(h,v+=vs ,-40,"Klasif. tipi",Normal,ClassType,false,CTypeSClass);
    end;
    if (HasPriceLists) then begin
  EditField(h,v+=vs ,70, "Cenu lapa",Normal,PLCode,false,PLDefSClass);
end;
  if (HasModNL) then begin
  EditField(h,v+=vs ,70,"Debitoru konts",Normal,ARAcc,false,AccSClass);
      if (HasRussianPrepayment or HasPrepayments) then begin
        if (HasModSL) then begin
          EditField(h,v+=vs,70,"Priekäapmaksa",Normal,OnAccAcc,false,AccSClass); 
        end;
        if (HasModPL) then begin
          EditField(h,v+=vs,70,"Kred. priekä. konts",Normal,OnAccAccAP,false,AccSClass); 
        end;
      end;
end;
  if (HasAdvancedPricing) then begin
  EditField(h,v+=vs ,70, "Atlaiìu matrica",Normal,RebCode,false,RebSClass);
    end;
  end;
  EndWindow;
end;


window AccTClass:3
  wtag("language","LAT"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real f,h,h2,h3,h4,h5,v,vm,vs;
  if (HasModNL or IsEnterprise) then begin
    if (HasModSL==false) then begin
      WindowBegin("Kont•jumu sast‚d´äana realiz‚cijai",AccTClass,CGSbl,-);  
    end else begin
  WindowBegin("Kont•jumu sast‚d´äana realiz‚cijai",AccTClass,CGSbl,-);
    end;
  end else begin
    WindowBegin("R•úina parametri",AccTClass,CGSbl,-);
  end;
  SetBlid(AccBlock);
  SetWRect(20,80,885,450);
  if (IsEnterprise) then begin
    Sizeable(-1,-1,0,0);
    vs = 20; h = 160; f = 70; h2 = 400; h3 = 250; h4 = 535; h5 = 520;
  Tile(0,30,false,"",ARAcc);
  TileButton(1,"Debitori");
  TileButton(2,"PVN un nod.");
  TileButton(3,"Valðtas");
  TileButton(4,"Realiz.");
  TileButton(5,"Sales Phys.");// Edit ************************** BPI Ukraine - KramarAlexandr - Tuesday, 11 September 2018 09:48:08
  TileButton(6,"Kred.");
  Tile(1,250,false,"1",ARAcc);
  EditField(h,vm=(v=6),f,"Debitori",Normal,ARAcc,false,AccSClass); 
  EditField(h,v+=vs,f,"áaub´gie debitori",Normal,BadARAcc,false,AccSClass); 
  EditField(h,v+=vs,f,"Kase",Normal,CashAcc,false,AccSClass);
  EditField(h,v+=vs,f,"POS atlikums",Normal,CashBackAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Priekäapmaksas",Normal,OnAccAcc,false,AccSClass);
  EditField(h,v+=vs,f,"PeºÀa no noapaºoä.",Normal,RndAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Zaud•j. no noapaºoä.",Normal,RndLossAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,f,"Komisija",Normal,CommisionAcc,false,AccSClass);
    EditField(h,v+=vs,f,"R•úina atlaide",Normal,DiscountAcc,false,AccSClass);
  end;
  v = vm;
  if (HasObjects) then begin
    CheckBox(h3,v,0,"Objekti debitoru kontam",ARUseObj); v = v + 16;
  end;
  CheckBox(h3,v,0,"Kontu kontrole",SLAccTest); 
  CheckBox(h3,v+=16,0,"R•úini izmaina nol. atlikumu",InvUpdStock); 
  CheckBox(h3,v+=16,0,"R•úinu numuri gr‚matojumos",ARonTR);
  CheckBox(h3,v+=16,0,"P‚rr•úin‚t b‚zes valðtas summu r•úin‚",UpdBaseRate);
  CheckBox(h3,v+=16,0,"P‚rr•úin‚t valðtas summu r•úin‚",UpdForeginRate);
  CheckBox(h3,v+=16,0,"Izlaist ieraksta konta objekt. realiz‚cijas kontos",SkipObjectsOnIVFromHeader);
  CheckBox(h3,v+=16,0,"Piepras´t hronolo®iju r•úinos",ChronologyforInvNo);
  CheckBox(h3,v+=16,0,"Izmantot kred´tr•úinu kontus",CredSalesAccs);
  CheckBox(h3,v+=16,0,"Oblig‚ts priekäapmaksas Nr.",DemandPPNo);
  CheckBox(h3,v+=16,0,"Neºaut vien‚dus priekäapmaksas numurus",ForceUniquePP);
  CheckBox(h3,v+=16,0,"Sadal´t bankas kontu pa ‹eka rind‚m",IPTransBankRowPerCU);
  if (StandardHansa==false) then begin
    CheckBox(h3,v+=16,0,"R•úin‚t apmaksas datumu s‚kot ar pak. sniegäanas laiku",DueDateBasedOnServDelDate);
  end;
  CheckBox(h4,v=vm,0,"Objekti bankas kontiem",ObjectonBankAcc);
  if (StandardHansa==false) then begin
    CheckBox(h4,v+=16,0,"Gr‚matot atlaidi",BookedDiscount);
    CheckBox(h4,v+=16,0,"Neºaut p‚rmaks‚t r•úinus",NoOverPayIV);
//      CheckBox(h4,v+=16,0,"Do not Print rows with Negative Sums to Fiscal Printer",DonotFPPrintRowsNegativeSum); //  not used anywhere in the rest of the code
  end;
  CheckBox(h4,v+=16,0,"Neatºaut negat´vas kopsummas realiz‚cij‚",DisallowNegativeTotalsonSales);
  CheckBox(h4,v+=16,0,"Neatºaut negat´vas rindu summas realiz‚cij‚",DisallowNegativeRowSumsonSales);
//    CheckBox(h4,v+=16,0,"Allow Receipt Date before Invoice Date",IPbeforeIVDate);
//this lovely checkbox leads to totoaly incorect SL and open inv cust stat and all other reports in SL
//comenting out
    if (HasLocalization("BOL")) then begin   
      CheckBox(h4,v+=16,0,"Neºaut veidot r•úinu, ja Devas atsl•ga ir beigusies",CheckDosageKey);  
    end;
  Tile(2,290,false,"2",VATBAcc);
  EditField(h,vm=(v=6),f,"No priekäapm. apr. PVN",Normal,VATBAcc,false,AccSClass);
    if (StandardHansa==false) then begin
  EditField(h,v+=vs,f,"Skonto atlaides PVN",Normal,VATERAcc,false,AccSClass);
    end;
  EditField(h,v+=vs,f,"R•ú. priekäapmaksas PVN",Normal,OnAccVATAcc,false,AccSClass);//as it was in 4.2
//  EditField(h,v+=vs,f,"Maks. priekäapmaksas PVN",Normal,PreIPVATAcc,false,AccSClass);//no code using it 
  EditField(h,v+=vs,f,"PVN no realiz‚cijas",Normal,SalesVAT,false,AccSClass);  
  EditField(h,v+=vs,f,"Nodokºi no realiz‚cijas",Normal,SalesTAX,false,AccSClass);
    if (StandardHansa==false) then begin
  EditField(h,v+=vs,f,"Iekä•jais PVN konts",Normal,IntARAcc,false,AccSClass);
    end;
  EditField(h,v+=vs,f,"Nodokºu starpkonts",Normal,Tax1TmpAcc,false,AccSClass);
  ButtonFrame(h3,v=vm+10,380,3,"Atsk. nod.");
  RadioButton(h3,v   ,0,0,"Apr•úin‚t papildu nodokli no summas ar PVN",NoTAXonVAT);
  RadioButton(h3,v+=16,1,0,"Apr•úin‚t papildu nodokli no summas bez PVN",NoTAXonVAT);
  RadioButton(h3,v+=16,2,0,"Apr•úin‚t papildu nod. no summas bez PVN un apr•ú. PVN no nod.",NoTAXonVAT);

  ButtonFrame(h3,vm=(v+=40),165,3,"Cena");
    RadioButton(h3,v    ,kBasePriceNotInclVAT,0,"Bez PVN",BasePriceInclVAT);
    RadioButton(h3,v+=16,kBasePriceInclVATandTax,0,"Ar PVN un papildu nodokli",BasePriceInclVAT);
    RadioButton(h3,v+=16,kBasePriceInclVAT,0,"Ar PVN",BasePriceInclVAT);
  
    CheckBox(h4=500,vm,0,"Kop‚, bez papildu nodokºa",TotalwoTAX);

  CheckBox(h3,vm=(v+=24),0,"PVN koda kontrole",VATCodeCtrl);
    if (HasLocalization("PRT")==false) then begin  
  CheckBox(h3,v+=16,0,"Gr‚matot maks‚jumu PVN",IPBookVAT);
    end;
    if (StandardHansa==false) then begin
  CheckBox(h3,v+=16,0,"Gr. PVN no val. kursa sv‚rst.",BookVATonRateGain);
  CheckBox(h3,v+=16,0,"Gr‚matot PVN uz PVN koda Ieej./St.",BookCreditOnPurchAcc);
  CheckBox(h3,v+=16,0,"Gr‚matot PVN tikai no p•capmaks‚m",BookVATOnlyFromDownpayment);
  CheckBox(h3,v+=16,0,"Skonto atlaide bez PVN",DiscCashVAT);
    end;
  CheckBox(h3,v+=16,0,"Nebr´din‚t par vien‚diem PVN re®. Nr.",NoWarnOnDupVATnoOnCU);
  CheckBox(h3,v+=16,0,"Neievietot PVN kodu maks‚jum‚",NoPasteVATToIP);
    if (HasExtTax) then begin
  CheckBox(h3,v+=16,0,"Atºaut artikulus bez pat•riÀa koda priekä PVN2 apr•úina",AllowItemWOCommodity);
    end;

  CheckBox(h4,v=vm,0,"Objekti uz PVN kontu",VATUseObj);
    if (StandardHansa==false) then begin
  CheckBox(h4,v+=16,0,"Apgroz´jums ar PVN",RevInclVAT); 
    end;
  CheckBox(h4,v+=16,0,"Gr‚matot priekäapm. PVN",PreIPBookVAT);
    if (StandardHansa==false and HasLocalization("HRV,POL,RUS,SLV,SVN,SRB,UKR")) then begin
  CheckBox(h4,v+=16,0,"Gr. r•ú. PVN uz PVN koresp. kontu",PostIVVATonVATCorr);
     end;
  CheckBox(h4,v+=16,0,"Gr. PVN no norakst´äan‚m",PostWriteOffVAT);
    if (HasExtTax) then begin
  CheckBox(h4,v+=16,0,"Apr•úin‚t ien‚kuma nodokºus",CalculatePerceptionTaxes);
    end;
    CheckBox(h4,v+=16,0,"PVN zona no pieg‚des adreses",ExportFlagfromDelAddr);  
  Tile(3,150,false,"3",CredAcc);
  h2 = 400;
  EditField(h,v=6,f,"PeºÀa no norakst.",Normal,CredAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Zaud•j. no norakst.",Normal,WriteOffLossAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Valðtas peºÀa/zaud•jumi",Normal,RateRndOffAcc,false,AccSClass);
    if (StandardHansa==false) then begin
  EditField(h,v+=vs,f,"EMS valðtu P/Z",Normal,EMURndOffAcc,false,AccSClass);
  EditField(h,v+=vs,f,"EMS valðtu r•ú. norakst.",Normal,EMUWriteOffAcc,false,AccSClass);
    end;
  EditField(h,v+=vs,f,"B‚zes valðtas noap.",Normal,BaseRoundOffAcc,false,AccSClass);
  EditField(h2,v=6,f,"IeÀ no val. kursa",Normal,RateGainAcc,false,AccSClass);
  EditField(h2,v+=vs,f,"Zaud. no val. kursa",Normal,RateLossAcc,false,AccSClass);
  EditField(h2,v+=vs,f,"IeÀ. no v.k. starp.",Normal,BankRateGainAcc,false,AccSClass);
  EditField(h2,v+=vs,f,"Zaud. no v.k. starp.",Normal,BankRateLossAcc,false,AccSClass);
  EditField(h2,v+=vs,f,"Bankas komisija",Normal,ExtraCostAcc,false,AccSClass);
  EditField(h2,v+=vs,f,"Forex gr‚m. konts",Normal,ForexTRAcc,false,AccSClass);
  CheckBox(h,v+=24,0,"Gr‚matot ieÀ•mumus/zaud•jumus no valðtas kursu sv‚rst´b‚m par katru maks. rindu",BookRateGainPerIPRow);
  Tile(4,150,false,"4",DomSalesAcc);
  EditField(h,v=6,f,"Viet•jais realiz. konts",Normal,DomSalesAcc,false,AccSClass);
    EditField(h,v+=vs,f,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,EUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,f,"rpus ES realiz. konts",Normal,ExpSalesAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Viet. Skonto atlaide",Normal,ERebAcc,false,AccSClass);
    EditField(h,v+=vs,f,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,EUERebAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Eksporta" & " Skonto atlaide",Normal,ExpERebAcc,false,AccSClass);  
    if (StandardHansa==false) then begin
  CheckBox(h,v+=22,0,"Re®istr•t kases ieÀ•mumus fisk‚laj‚ uzkaites vien´b‚",CashSalesToFiscalControlUnit);
    end;
//  EditField(h,v+=vs,f,"Iekä•j‚ realiz‚cija",Normal,IntDomSalesAcc,false,AccSClass);
  EditField(h2,v=6,20,"Viet•jais PVN kods",Normal,VATCodeDom,false,VATCodeSClass);
    EditField(h2,v+=vs,20,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,VATCodeEU,false,VATCodeSClass);
  EditField(h2,v+=vs,20,"rpus ES PVN kods",Normal,VATCodeExp,false,VATCodeSClass);  
    if (HasTaxMatrix) then begin
  EditField(h2=540,v=6,50,"Viet•j‚ nod.veidne",Normal,TaxTemplateCode,false,TaxTemplateSClass);
      EditField(h2,v+=vs,50,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass);
  EditField(h2,v+=vs,50,"rpus ES nod.veidne",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass);
    end;
    
    
			// Edit Start ---------------------------------------------- Edit Start
//Tuesday, 11 September 2018 09:34:17

	
	Tile(5,150,false,"5",PhysDomSaleAcc);
	EditField(h,v=6,f,"Domestic Sales A/C",Normal,PhysDomSaleAcc,false,AccSClass);
	EditField(h,v+=vs,f,"Inside EU Sales A/C",Normal,PhysEUSaleAcc,false,AccSClass);
	EditField(h,v+=vs,f,"Export Sales A/C",Normal,PhysExpEUSaleAcc,false,AccSClass);
	EditField(h,v+=vs,f,"Dom. VAT Code",Normal,PhysDomVAT,false,VATCodeSClass);
	EditField(h,v+=vs,f,"Inside EU VAT Code",Normal,PhysEUVAT,false,VATCodeSClass);
	EditField(h,v+=vs,f,"Export VAT Code",Normal,PhysExpVAT,false,VATCodeSClass);
	
// Edit End ---------------------------------------------- Edit End
	

    
    
  Tile(6,160,false,"6",CredDomSalesAcc);
  h2 = 400;
  StaticText(h,v=12,"Kred´tr•úini",false);
  EditField(h,vm=(v+=16),55,"Real.konts",Normal,CredDomSalesAcc,false,AccSClass);
    EditField(h,v+=vs,55,VATZoneEditFieldLabel_LAT(1)  & "ES realiz‚cijas konts",Normal,CredEUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,"rpus ES real.konts",Normal,CredExpSalesAcc,false,AccSClass);
  EditField(h2,v=vm,20,"Viet•jais PVN kods",Normal,CredVATCodeDom,false,VATCodeSClass);
    EditField(h2,v+=vs,20,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,CredVATCodeEU,false,VATCodeSClass);
  EditField(h2,v+=vs,20,"rpus ES PVN kods",Normal,CredVATCodeExp,false,VATCodeSClass);  
  CheckBox(h,v+=32,0,"Neizmantot autogr‚matojumus kred´tr•úiniem",NoAutAutoTransOnCredIV);
  CheckBox(h,v+=16,0,"Aut. atz´m•t kred´tr•úinus k‚ apspriestus",SetDisputedFlagsOnCredIV);
    CheckBox(h,v+=16,0,"Neºaut kred´tr•úinus bez numura",CredInvWithNo);
    CheckBox(h,v+=16,0,"Piepras´t kredit•äanas iemeslu",RequireCreditNoteReason);
    CheckBox(h,v+=16,0,"Kred´tr•úina kop•j‚ v•rt´ba nedr´kst p‚rsniegt r•úina v•rt´bu",CreditIVTotNotExceedInvCheck);
    CheckBox(h,v+=16,0,"Piesaist´t kred´tr•úinu pieg‚des r•úinam",ConnectCreditNotetoVI);
  CheckBox(h,v+=16,0,"Negat´vas summas kred´tr•úinu izdruk‚s",PrintNegAmountsCredNote);
  end else begin
    if (HasModNL) then begin
  SetWRect(20,80,520,300);
      vs = 20; h = 130; f = 70; h2 = 260; h3 = 420;
      if (HasMultiCurrency) then begin
        h = 150;
      end;
  EditField(h,vm=(v=6),f,"Debitori",Normal,ARAcc,false,AccSClass);
      if (HasLocalization("PRT,ZWE")) then begin  
        EditField(h,v+=vs,f,"áaub´gs debitoru konts",Normal,BadARAcc,false,AccSClass);   
      end;
  EditField(h,v+=vs,f,"Kase",Normal,CashAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Noapaºoäana",Normal,RndAcc,false,AccSClass);
//      EditField(h,v+=vs,f,"Bank Fee",Normal,ExtraCostAcc,false,AccSClass); // no fee option in Std
      if (HasModSL) then begin
  EditField(h,v+=vs,f,"Norakst´äana",Normal,CredAcc,false,AccSClass);
//        EditField(h,v+=vs,f,"On Account",Normal,OnAccAcc,false,AccSClass);//not in stdacc
      end;
      if (HasMultiCurrency) then begin
        EditField(h,v+=vs,f,"B‚zes valðtas noap.",Normal,BaseRoundOffAcc,false,AccSClass);  
        EditField(h,v+=vs,f,"IeÀ. no val. kursa",Normal,RateGainAcc,false,AccSClass);  
        EditField(h,v+=vs,f,"Zaud. no val. kursa",Normal,RateLossAcc,false,AccSClass);  
      end;
/*
  if (HasMultiCurrency) then begin
  EditField(h,v+=vs,f,"Realiz‚cijas konts",Normal,DomSalesAcc,false,AccSClass);
  EditField(h,v+=vs,f,"ES realiz. konts",Normal,EUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,f,"Eksporta realiz. konts",Normal,ExpSalesAcc,false,AccSClass);
  EditField(h3,v=6,20,"Viet•jais realiz. konts",Normal,VATCodeDom,false,VATCodeSClass);
  EditField(h3,v+=vs,20,"ES PVN kods",Normal,VATCodeEU,false,VATCodeSClass);
  EditField(h3,v+=vs,20,"rpus ES PVN kods",Normal,VATCodeExp,false,VATCodeSClass);
  end else begin
*/
      if (IsBooks and IsStandardProduct==false) then begin
        EditField(h,v+=vs,f,"PVN (konts)",Normal,VATBAcc,false,AccSClass);  
        EditField(h,v+=vs,f,"Bankas pakalp.",Normal,ExtraCostAcc,false,AccSClass);  
        EditField(h,v+=vs,f,"Priekäapmaksa",Normal,OnAccAcc,false,AccSClass);  
      end;
      if (HasSettlementDiscount) then begin
        EditField(h,v+=vs,f,"Skonto atl.",Normal,ERebAcc,false,AccSClass);  
      end;
      if (HasRussianPrepayment or (HasLocalization("LVA") and HasPrepayments)) then begin
        if (HasTaxMatrix==false) then begin
        EditField(h,v+=vs,f,"Priekäapm. PVN",Normal,OnAccVATAcc,false,AccSClass);  
        end;
      end;
      if (HasSettlementDiscount) then begin
        EditField(h,v+=vs,f,"Skonto atl. PVN",Normal,VATERAcc,false,AccSClass);  
      end;
      if (IsStandardProduct) then begin
        if (HasVATZone==false) then begin
          EditField(h,v+=vs,f,"Realiz‚cija",Normal,DomSalesAcc,false,AccSClass);
        if (HasTaxMatrix) then begin
            EditField(h,v+=vs,50,"Nod. veid.",Normal,TaxTemplateCode,false,TaxTemplateSClass);
        end else begin
  EditField(h,v+=vs,20,"PVN kods",Normal,VATCodeDom,false,VATCodeSClass);
        end;
      end;
      end;

      if (HasRussianPrepayment or HasPrepayments) then begin
        EditField(h,v+=vs,f,"Priekäapm.",Normal,OnAccAcc,false,AccSClass);  
      end;
      if (HasLocalization("PRT")) then begin  
        StaticText(h,v+=48,"Kred´tr•úini",false);  
        CheckBox(h,v+=14,0,"Izmantot kred´tkaräu kontus un PVN kodus",CredSalesAccs);
        EditField(h,v+=24,55,"Viet. real. konts",Normal,CredDomSalesAcc,false,AccSClass);  
        EditField(h,v+=vs,20,"Viet. PVN kods",Normal,CredVATCodeDom,false,VATCodeSClass);  
      end;
      if (HasVATZone) then begin
        EditField(h,vm=(v+=2*vs),f,"Viet•jais realiz. konts",Normal,DomSalesAcc,false,AccSClass);
        EditField(h,v+=vs,f,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,EUSalesAcc,false,AccSClass);
        EditField(h,v+=vs,f,VATZoneEditFieldLabel_LAT(2) & "ES realiz‚cijas konts",Normal,ExpSalesAcc,false,AccSClass);
        if (HasTaxMatrix) then begin
          EditField(h2+100,v=vm,50,"Viet. nod. veidne",Normal,TaxTemplateCode,false,TaxTemplateSClass); 
          EditField(h2+100,v+=vs,50,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass);
          EditField(h2+100,v+=vs,50,"rpus ES nod.veidne",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass); 
        end else begin
        if (HasLocalization("POL")) then begin
          EditField(h,v+=vs,f,"Iekä•jais PVN konts",Normal,IntARAcc,false,AccSClass);
        end;
        EditField(h2+100,v=vm,20,"Viet. PVN kods",Normal,VATCodeDom,false,VATCodeSClass);
          EditField(h2+100,v+=vs,20,VATZoneEditFieldLabel_LAT(1) & "ES realiz‚cijas konts",Normal,VATCodeEU,false,VATCodeSClass);
          EditField(h2+100,v+=vs,20,VATZoneEditFieldLabel_LAT(2) & "ES realiz‚cijas konts",Normal,VATCodeExp,false,VATCodeSClass);
        end;
      end;
      ButtonFrame(h2,v=22,120,2,"B‚zes cena");
  RadioButton(h2,v,0,0,"Bez PVN",BasePriceInclVAT);
  RadioButton(h2,v+=16,2,0,"Ar PVN",BasePriceInclVAT);
      v = v + 24;
      if (HasModIN) then begin
        CheckBox(h2,v,0,"R•úini izmaina nol. atlikumu",InvUpdStock); v = v + 16;
      end;
      if ((HasLocalization("HRV") and HasRussianPrepayment) or (HasLocalization("LVA") and HasPrepayments)) then begin
 //       CheckBox(h2,v,0,"",IPBookVAT); v = v + 16; //we output this later
        CheckBox(h2,v,0,"Gr‚matot priekäapmaksas PVN",PreIPBookVAT); v = v + 16;  
      end;
      if (HasMultiCurrency) then begin
        CheckBox(h2,v,0,"Gr‚matot ieÀ•mumus/zaud•jumus no valðtas kursu sv‚rst´b‚m par katru maks. rindu",BookRateGainPerIPRow); v = v + 16;
      end;
        if (HasPrepayments) then begin 
          CheckBox(h2,v,0,"Oblig‚ts priekäapmaksas Nr.",DemandPPNo);  v = v + 16;     
          CheckBox(h2,v,0,"Piepras´t unik‚lu priekäapmaksas Nr.",ForceUniquePP); v = v + 16;        
      end;
      if (HasLocalization("PRT")==false) then begin 
        CheckBox(h2,v,0,"Gr‚matot maks‚juma PVN",IPBookVAT); v = v + 16;  
      end;
  end else begin
  SetWRect(64,80,470,190); 
      vs = 20; h = 150; f = 70; h2 = 300; v = 6;
      if (HasTaxMatrix) then begin
        EditField(h,v,f,"Nod. veid.",Normal,TaxTemplateCode,false,TaxTemplateSClass);  
      end else begin
        if (HasVATZone) then begin
          if (HasTaxMatrix) then begin
            EditField(h,v,50,"Viet. nod. veidne",Normal,TaxTemplateCode,false,TaxTemplateSClass); 
            EditField(h,v+=vs,60,VATZoneEditFieldLabel_LAT(1) & "Nodokºu veidne",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass); 
            EditField(h,v+=vs,50,"Eksporta Nodokºu veidne",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass); 
          end else begin
            EditField(h,v,30,"Viet. PVN kods",Normal,VATCodeDom,false,VATCodeSClass); 
            EditField(h,v+=vs,30,VATZoneEditFieldLabel_LAT(1) & "PVN kods",Normal,VATCodeEU,false,VATCodeSClass); 
            EditField(h,v+=vs,30,VATZoneEditFieldLabel_LAT(2) & "PVN kods",Normal,VATCodeExp,false,VATCodeSClass); 
          end;
        end else begin
      EditField(h,v,f,"PVN kods",Normal,VATCodeDom,false,VATCodeSClass);  
        end;
      end;
      v = v + 42; 
      ButtonFrame(h,v,120,2,"B‚zes cena");  
  RadioButton(h,v,0,0,"Bez PVN",BasePriceInclVAT);
  RadioButton(h,v+=16,2,0,"Ar PVN",BasePriceInclVAT);
      if (HasModIN) then begin
        CheckBox(h,v+=32,0,"R•úini izmaina nol. atlikumu",InvUpdStock);  
      end;
      if (HasModSL and HasLocalization("PRT")==false) then begin 
        CheckBox(h,v+=32,0,"Post Receipt VAT",IPBookVAT);  
      end;
    end;
  end;
  EndWindow;
 end;